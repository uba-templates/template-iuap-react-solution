<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>tinper-react å®æˆ˜èµ„æ–™</title>
    <link rel="stylesheet" href="source/app.css"/>
    <link rel="stylesheet" href="source/highlight.min.css">
</head>
<body>
<a id="skippy" class="sr-only sr-only-focusable" href="#content"><div class="container"><span class="skiplink-text">Skip to main content</span></div></a>


<!-- Docs master nav -->
<header class="navbar navbar-static-top docs-nav" id="top" role="banner">
    <div class="container">
        <div class="navbar-header">
            <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            
            <a href="" class="navbar-brand">tinper-react</a>
            
        </div>
        <nav id="bs-navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav navbar-left">
                
                    
                    <li class="">
                        
                        <a href="index.html">å¼€å‘æ¡†æ¶</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="http://bee.tinper.org/" target="_blank">PCç»„ä»¶åº“tinper-bee</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="https://github.com/lebra/lebra-components" target="_blank">ç§»åŠ¨ç»„ä»¶åº“lebra</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="http://bee.tinper.org/" target="_blank">åº”ç”¨æ¡†æ¶Mirror</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="https://github.com/tinper-bee/bee-application-components" target="_blank">ä¸šåŠ¡ç»„ä»¶å¹³å°</a>
                        
                    </li>
                    
                    <li class="active">
                        
                        <a href="build.html">å®æˆ˜èµ„æ–™</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="other.html">æ‰©å±•èµ„æ–™</a>
                        
                    </li>
                    
                    <li class="">
                        
                        <a href="more.html">æ›´å¤š</a>
                        
                    </li>
                    
                
            </ul>
        </nav>
    </div>
</header>

<!-- Docs page layout -->

<div class="docs-header" id="content" style="margin-bottom:0">
    <div class="container">
        <h1>åˆ›å»ºé¡¹ç›®~ï¼</h1>
        <p></p>
    </div>
</div>



<header style="height:20px"></header>


<div class="container docs-container">
    
    
    <div class="row">
        <div class="col-md-9 markdown-body" role="main">
            
            <h2 id="ubaç¯å¢ƒæ­å»º">ubaç¯å¢ƒæ­å»º</h2><h3 id="nodeå®‰è£…ï¼š">nodeå®‰è£…ï¼š</h3><h3 id="å®‰è£… node ç¯å¢ƒæ¥å¤„ç†reacté¡¹ç›®çš„åŒ…ç®¡ç†">å®‰è£… node ç¯å¢ƒæ¥å¤„ç†reacté¡¹ç›®çš„åŒ…ç®¡ç†</h3><ul>
<li><code>node.js</code> è½¯ä»¶ç‰ˆæœ¬éœ€è¦å¤§äº<code>6.x</code>ä»¥ä¸Šå³å¯</li>
<li><code>npm</code>å»ºè®®å¤§äº<code>3.x</code>ä»¥ä¸Šå³å¯ã€‚</li>
</ul>
<h3 id="å®‰è£…nodeåœ°å€">å®‰è£…nodeåœ°å€</h3><p><a href="http://www.nodejs.org/download/">nodeä¸‹è½½åœ°å€</a></p>
<p><img src="../src/assets/images/reactfile/nodedown.jpg" alt="nodedown"></p>
<h3 id="å®‰è£…nodeæ•™ç¨‹">å®‰è£…nodeæ•™ç¨‹</h3><p>é€‰æ‹©ç”µè„‘ç³»ç»Ÿå¯¹åº”çš„ç‰ˆæœ¬ä¸‹è½½å³å¯ï¼Œä¸‹è½½å®Œæˆå®‰è£…nodejsï¼Œå®‰è£…è¿‡ç¨‹åŸºæœ¬ç›´æ¥â€œNEXTâ€å°±å¯ä»¥äº†ã€‚ï¼ˆwindowsçš„å®‰è£…msiæ–‡ä»¶åœ¨è¿‡ç¨‹ä¸­ä¼šç›´æ¥æ·»åŠ pathçš„ç³»ç»Ÿå˜é‡ï¼Œå˜é‡å€¼æ˜¯ä½ çš„å®‰è£…è·¯å¾„ï¼Œä¾‹å¦‚â€œC:\Program Files\nodejsâ€ï¼‰ã€‚</p>
<h3 id="æ£€æµ‹nodeå®‰è£…æ˜¯å¦æˆåŠŸ">æ£€æµ‹nodeå®‰è£…æ˜¯å¦æˆåŠŸ</h3><p>å®‰è£…å®Œæˆåå¯ä»¥ä½¿ç”¨cmdï¼ˆwin+rç„¶åè¾“å…¥cmdè¿›å…¥ï¼‰æµ‹è¯•ä¸‹æ˜¯å¦å®‰è£…æˆåŠŸã€‚æ–¹æ³•ï¼šåœ¨cmdä¸‹è¾“å…¥node -vï¼Œå‡ºç°ä¸‹å›¾ç‰ˆæœ¬æç¤ºå°±æ˜¯å®Œæˆäº†NodeJSçš„å®‰è£…ã€‚</p>
<p>ï¼ˆmacå®‰è£…å®ŒæˆæŸ¥çœ‹ç‰ˆæœ¬ï¼‰</p>
<p><img src="../src/assets/images/reactfile/nodeç‰ˆæœ¬.jpg" alt="nodeç‰ˆæœ¬"></p>
<p>ï¼ˆwindowså®‰è£…å®ŒæˆæŸ¥çœ‹ç‰ˆæœ¬ï¼‰<img src="../src/assets/images/reactfile/windowç‰ˆæœ¬.jpg" alt="windowç‰ˆæœ¬"></p>
<h3 id="npmä»‹ç»">npmä»‹ç»</h3><p>npmçš„å®‰è£…ã€‚ç”±äºæ–°ç‰ˆçš„NodeJSå·²ç»é›†æˆäº†npmï¼Œæ‰€ä»¥ä¹‹å‰npmä¹Ÿä¸€å¹¶å®‰è£…å¥½äº†ã€‚åŒæ ·å¯ä»¥ä½¿ç”¨cmdå‘½ä»¤è¡Œè¾“å…¥&quot;npm -v&quot;æ¥æµ‹è¯•æ˜¯å¦æˆåŠŸå®‰è£…ã€‚å¦‚ä¸‹å›¾ï¼Œå‡ºç°ç‰ˆæœ¬æç¤ºä¾¿OKäº†ã€‚</p>
<h3 id="å®‰è£…å®Œæˆ">å®‰è£…å®Œæˆ</h3><p>å¸¸è§„NodeJSçš„æ­å»ºåˆ°ç°åœ¨ä¸ºæ­¢å·²ç»å®Œæˆäº†ï¼Œæ€¥ä¸åŠå¾…çš„è¯ä½ å¯ä»¥åœ¨â€cmdâ€œè¾“å…¥â€nodeâ€œè¿›å…¥nodeå¼€å‘æ¨¡å¼ä¸‹ï¼Œè¾“å…¥ä½ çš„NodeJSç¬¬ä¸€å¥ï¼šâ€hello worldâ€œ - è¾“å…¥ï¼šconsole.log(&#39;hello world&#39;)ã€‚</p>
<h3 id="windowç‰ˆæœ¬é…ç½®ç¯å¢ƒå˜é‡">windowç‰ˆæœ¬é…ç½®ç¯å¢ƒå˜é‡</h3><p>npmä½œä¸ºä¸€ä¸ªNodeJSçš„æ¨¡å—ç®¡ç†ï¼Œä¹‹å‰æˆ‘ç”±äºæ²¡æœ‰ç³»ç»Ÿåœ°çœ‹èµ„æ–™æ‰€ä»¥å¯¼è‡´å®‰è£…é…ç½®æ¨¡å—çš„æ—¶å€™èµ°äº†ä¸€å¤§æ®µå¼¯è·¯ï¼Œæ‰€ä»¥ç°åœ¨å¾ˆæœ‰å¿…è¦åˆ—å‡ºæ¥è®°å½•ä¸‹ã€‚(windowsé…ç½®ä¸€ä¸‹)</p>
<p>â‘ ã€æˆ‘ä»¬è¦å…ˆé…ç½®npmçš„å…¨å±€æ¨¡å—çš„å­˜æ”¾è·¯å¾„ä»¥åŠcacheçš„è·¯å¾„ï¼Œä¾‹å¦‚æˆ‘å¸Œæœ›å°†ä»¥ä¸Šä¸¤ä¸ªæ–‡ä»¶å¤¹æ”¾åœ¨NodeJSçš„ä¸»ç›®å½•ä¸‹ï¼Œä¾¿åœ¨NodeJsä¸‹å»ºç«‹&quot;node_global&quot;åŠ&quot;node_cache&quot;ä¸¤ä¸ªæ–‡ä»¶å¤¹ã€‚å¦‚ä¸‹å›¾<img src="../src/assets/images/reactfile/windowsç¯å¢ƒ.jpg" alt="windowsç¯å¢ƒ"></p>
<p>â‘¡ã€å¯åŠ¨cmdï¼Œè¾“å…¥</p>
<pre><code>npm config set prefix &quot;C:\Program Files\nodejs\node_global&quot;
ä»¥åŠ
npm config set cache &quot;C:\Program Files\nodejs\node_cache&quot;
</code></pre><p>â‘¢ã€ç°åœ¨æˆ‘ä»¬æ¥è£…ä¸ªæ¨¡å—è¯•è¯•ï¼Œé€‰æ‹©expressè¿™ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„æ¨¡å—ã€‚åŒæ ·åœ¨cmdå‘½ä»¤è¡Œé‡Œé¢ï¼Œè¾“å…¥â€œnpm install express -gâ€ï¼ˆâ€œ-gâ€è¿™ä¸ªå‚æ•°æ„æ€æ˜¯è£…åˆ°globalç›®å½•ä¸‹ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢è¯´è®¾ç½®çš„â€œC:\Program Files\nodejs\node_globalâ€é‡Œé¢ã€‚ï¼‰ã€‚å¾…cmdé‡Œé¢çš„å®‰è£…è¿‡ç¨‹æ»šåŠ¨å®Œæˆåï¼Œä¼šæç¤ºâ€œexpressâ€è£…åœ¨äº†å“ªã€ç‰ˆæœ¬è¿˜æœ‰å®ƒçš„ç›®å½•ç»“æ„æ˜¯æ€æ ·ã€‚å¦‚ä¸‹å›¾<img src="../src/assets/images/reactfile/æµ‹è¯•æ¨¡å—.jpg" alt="æµ‹è¯•æ¨¡å—"></p>
<p>â‘£ã€å…³é—­cmdï¼Œæ‰“å¼€ç³»ç»Ÿå¯¹è¯æ¡†ï¼Œâ€œæˆ‘çš„ç”µè„‘â€å³é”®â€œå±æ€§â€-â€œé«˜çº§ç³»ç»Ÿè®¾ç½®â€-â€œé«˜çº§â€-â€œç¯å¢ƒå˜é‡â€ã€‚å¦‚ä¸‹å›¾</p>
<p><img src="../src/assets/images/reactfile/ç¯å¢ƒå˜é‡.jpg" alt="ç¯å¢ƒå˜é‡"></p>
<p>â‘¤ã€è¿›å…¥ç¯å¢ƒå˜é‡å¯¹è¯æ¡†ï¼Œåœ¨ç³»ç»Ÿå˜é‡ä¸‹æ–°å»º&quot;NODE_PATH&quot;ï¼Œè¾“å…¥â€C:\Program Files\nodejs\node_global\node_modulesâ€œã€‚ï¼ˆpsï¼šè¿™ä¸€æ­¥ç›¸å½“å…³é”®ã€‚ï¼‰</p>
<p>2014.4.19æ–°å¢ï¼šç”±äºæ”¹å˜äº†moduleçš„é»˜è®¤åœ°å€ï¼Œæ‰€ä»¥ä¸Šé¢çš„ç”¨æˆ·å˜é‡éƒ½è¦è·Ÿç€æ”¹å˜ä¸€ä¸‹ï¼ˆç”¨æˆ·å˜é‡&quot;PATH&quot;ä¿®æ”¹ä¸ºâ€œC:\Program Files\nodejs\node_global\â€ï¼‰ï¼Œè¦ä¸ä½¿ç”¨moduleçš„æ—¶å€™ä¼šå¯¼è‡´è¾“å…¥å‘½ä»¤å‡ºç°â€œxxxä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åºæˆ–æ‰¹å¤„ç†æ–‡ä»¶â€è¿™ä¸ªé”™è¯¯ã€‚</p>
<p>â‘¥ã€ä»¥ä¸Šæ­¥éª¤éƒ½OKçš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥å†æ¬¡å¼€å¯cmdå‘½ä»¤è¡Œï¼Œè¿›å…¥nodeï¼Œè¾“å…¥â€œrequire(&#39;express&#39;)â€æ¥æµ‹è¯•ä¸‹nodeçš„æ¨¡å—å…¨å±€è·¯å¾„æ˜¯å¦é…ç½®æ­£ç¡®äº†ã€‚æ­£ç¡®çš„è¯cmdä¼šåˆ—å‡ºexpressçš„ç›¸å…³ä¿¡æ¯ã€‚å¦‚ä¸‹å›¾ï¼ˆå¦‚å‡ºé”™ä¸€èˆ¬éƒ½æ˜¯NODE_PATHçš„é…ç½®ä¸å¯¹ï¼Œå¯ä»¥æ£€æŸ¥ä¸‹ç¬¬â‘£â‘¤æ­¥ï¼‰<img src="../src/assets/images/reactfile/node.jpg" alt="node"></p>
<h3 id="ubaåˆå§‹åŒ–å·¥ç¨‹">ubaåˆå§‹åŒ–å·¥ç¨‹</h3><h4 id="1ã€åŸºäºnodeå®‰è£…å®Œæˆåï¼Œæ¥å®‰è£… ç”¨å‹Reacté¡¹ç›®åˆå§‹åŒ–å·¥å…·  uba;">1ã€åŸºäºnodeå®‰è£…å®Œæˆåï¼Œæ¥å®‰è£… ç”¨å‹Reacté¡¹ç›®åˆå§‹åŒ–å·¥å…·  uba;</h4><p><a href="http://docs.tinper.org/uba/">uba æ•™ç¨‹</a></p>
<p>å¤–ç½‘æƒ…å†µä¸‹ä½¿ç”¨<code>npm</code>å®‰è£…å…¨å±€ä½¿ç”¨</p>
<pre><code class="lang-bash">$ npm install uba -g      #å…¨å±€å®‰è£…uba
</code></pre>
<p>å…¬å¸å†…ç½‘ä¸‹ä½¿ç”¨ynpmæ¥å®‰è£…</p>
<pre><code class="lang-bash">$ npm install ynpm-tool -g  #å®‰è£…é›†å›¢å†…ç½‘ynpmåˆ°å…¨å±€
$ ynpm install uba -g       #å®‰è£…ubaå…¨å±€ï¼Œåé¢ä¸‹è½½npmåŒ…æ…¢ä¹Ÿå¯ä»¥ä½¿ç”¨ynpm installæ¥å®‰è£…ä¾èµ–åŒ…
</code></pre>
<h4 id="2ã€å®‰è£…å®ŒæˆåæŸ¥çœ‹ uba ç‰ˆæœ¬">2ã€å®‰è£…å®ŒæˆåæŸ¥çœ‹ uba ç‰ˆæœ¬</h4><p>æ£€æµ‹ubaæ˜¯å¦å®‰è£…æˆåŠŸ</p>
<pre><code>uba -v
</code></pre><p><img src="../src/assets/images/reactfile/ubaç‰ˆæœ¬.jpg" alt="ubaç‰ˆæœ¬"></p>
<h4 id="3ã€å®‰è£…å®Œ è„šæ‰‹æ¶å·¥å…·uba ä¹‹å  åˆå§‹åŒ–é¡¹ç›®">3ã€å®‰è£…å®Œ è„šæ‰‹æ¶å·¥å…·uba ä¹‹å  åˆå§‹åŒ–é¡¹ç›®</h4><pre><code>uba init
</code></pre><p><img src="../src/assets/images/reactfile/ubainit.jpg" alt="ubainit"></p>
<p>uba init å›è½¦å‡ºç°ä¸Šå›¾ï¼Œæˆ‘ä»¬æ ¹æ®éœ€æ±‚ é€‰æ‹©å¯¹åº” è„šæ‰‹æ¶ã€‚åŒ…æ‹¬ å•é¡µåº”ç”¨ã€å¤šé¡µåº”ç”¨ç­‰ã€‚</p>
<h4 id="4ã€ä»Šå¤©æˆ‘ä»¬ä»¥Reactå¤šé¡µåº”ç”¨è„šæ‰‹æ¶ä¸ºåŠ›æ¥å®ç° å¸ç§æ¡ˆä¾‹ã€‚é€‰æ‹©React å¤šé¡µåº”ç”¨è„šæ‰‹æ¶ å›è½¦ï¼Œåˆå§‹åŒ–é¡¹ç›®æ–‡ä»¶ç›®å½•ä»¥åŠåŸºæœ¬æ–‡ä»¶ã€‚ä¸ºé¡¹ç›®å‘½åå¦‚ä¸‹å›¾ã€‚">4ã€ä»Šå¤©æˆ‘ä»¬ä»¥Reactå¤šé¡µåº”ç”¨è„šæ‰‹æ¶ä¸ºåŠ›æ¥å®ç° å¸ç§æ¡ˆä¾‹ã€‚é€‰æ‹©React å¤šé¡µåº”ç”¨è„šæ‰‹æ¶ å›è½¦ï¼Œåˆå§‹åŒ–é¡¹ç›®æ–‡ä»¶ç›®å½•ä»¥åŠåŸºæœ¬æ–‡ä»¶ã€‚ä¸ºé¡¹ç›®å‘½åå¦‚ä¸‹å›¾ã€‚</h4><p><img src="../src/assets/images/reactfile/setname.jpg" alt="setname"></p>
<h4 id="5ã€æ˜¯å¦åˆå§‹åŒ–node_modules,æ­¤å¤„é€‰æ‹©yï¼›å›è½¦ã€‚å¼€å§‹åŠ è½½">5ã€æ˜¯å¦åˆå§‹åŒ–node_modules,æ­¤å¤„é€‰æ‹©yï¼›å›è½¦ã€‚å¼€å§‹åŠ è½½</h4><p><img src="../src/assets/images/reactfile/nodeiniting.jpg" alt="nodeiniting"></p>
<p><img src="../src/assets/images/reactfile/nodeinit.jpg" alt="nodeinit"></p>
<p><img src="../src/assets/images/reactfile/inited.jpg" alt="inited"></p>
<h4 id="6ã€é¡¹ç›®æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤¹è¯´æ˜ï¼š">6ã€é¡¹ç›®æ–‡ä»¶ä»¥åŠæ–‡ä»¶å¤¹è¯´æ˜ï¼š</h4><p>é¡¹ç›®åˆå§‹åŒ–æˆåŠŸåæŸ¥çœ‹ç›®å½•æ–‡ä»¶ã€‚<img src="../src/assets/images/reactfile/ubafile.jpg" alt="ubafile"></p>
<p>æ­¤é¡¹ç›®ä¸­ï¼š</p>
<pre><code> mock æ–‡ä»¶å¤¹ğŸ“‚å­˜æ”¾æœ¬åœ°æ¨¡æ‹Ÿè¯·æ±‚æ•°æ®æ–‡ä»¶ï¼Œnode_moduleså­˜æ”¾é¡¹ç›®æ‰€ç”¨åŒ…æ•°æ®æ–‡ä»¶ï¼Œ
</code></pre><pre><code>package.jsonæ–‡ä»¶ğŸ“ƒå†™å…¥è¯¥é¡¹ç›®ä½¿ç”¨çš„åŒ…åä»¥åŠå¯åŠ¨ã€æ„å»ºã€ç­‰å‘½ä»¤ï¼ˆå¯ä»¥è‡ªè¡Œé…ç½®ï¼‰ã€‚
åœ¨å‰ç«¯å·¥ç¨‹ä¸­ï¼Œå®‰è£…æ’ä»¶æˆ–åº“ï¼š

æ·»åŠ  packageåˆ°ï¼š dependencies
npm install &lt;package-name&gt; --save æˆ–
npm install &lt;package-name&gt;

æ·»åŠ  packageåˆ°ï¼š devDependencies
npm install &lt;package-name&gt; --save-dev

åŒºåˆ«åœ¨äºï¼š
dependenciesä¸­çš„ä¾èµ–é¡¹æ˜¯æ­£å¸¸è¿è¡Œè¯¥åŒ…æ‰€éœ€è¦çš„ä¾èµ–é¡¹ï¼›
devDependenciesä¸­çš„ä¾èµ–é¡¹æ˜¯å¼€å‘çš„æ—¶å€™æ‰€éœ€è¦çš„ä¾èµ–é¡¹ï¼Œæ¯”å¦‚ä¸€äº›è¿›è¡Œå•å…ƒæµ‹è¯•ä¹‹ç±»çš„åŒ…ï¼›
dependenciesä¸­ï¼Œæ˜¯ç”Ÿäº§ç¯å¢ƒæ‰€éœ€è¦çš„åº“ï¼›
devDependenciesä¸­ï¼Œæ”¾çš„æ˜¯ä½ å¼€å‘æ—¶å€™ç”¨åˆ°çš„åº“ï¼Œæ¯”å¦‚æµ‹è¯•åº“ç­‰ç­‰ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­æ˜¯ä¸éœ€è¦çš„ï¼›
é‚£ä»€ä¹ˆæ˜¯å¼€å‘ç¯å¢ƒï¼Œä»€ä¹ˆæ˜¯ç”Ÿäº§ç¯å¢ƒå‘¢ï¼Ÿ
ä¸‹é¢ä¸€å¼ å›¾å‘Šè¯‰ä½ ï¼š
</code></pre><p><img src="../src/assets/images/reactfile/å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒè¯´æ˜.png" alt="å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒè¯´æ˜"></p>
<pre><code>README.mdæ–‡ä»¶ğŸ“ƒå­˜æ”¾é¡¹ç›®è¯´æ˜ä»¥ä¾¿äºå›¢é˜Ÿå¼€å‘ä¿æŒé¡¹ç›®çš„ç»Ÿä¸€æ€§å’Œæ˜“ç®¡ç†æ€§ã€‚
</code></pre><pre><code>srcæ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾é¡¹ç›®çš„jsæ–‡ä»¶å’Œç»„ä»¶ä»¥åŠcssï¼Œå›¾ç‰‡ï¼Œfontå­—ä½“ç­‰
å…¶ä¸­ assets æ–‡ä»¶å¤¹ğŸ“‚ç”¨äºå­˜æ”¾ images(å°±æ˜¯å›¾ç‰‡æ–‡ä»¶å¤¹)ï¼›
componentsæ–‡ä»¶å¤¹ğŸ“‚ç”¨äºå­˜æ”¾ å…¬ç”¨ç»„ä»¶ï¼›
pagesæ–‡ä»¶å¤¹ğŸ“‚ç”¨äºå­˜æ”¾ é¡µé¢é€»è¾‘jsä»¥åŠé¡µé¢å…ƒç´ ç¼–å†™é€»è¾‘ã€‚
å‰ç«¯å¼€å‘äººå‘˜éœ€è¦é…åˆåç«¯äººå‘˜å®Œæˆé¡¹ç›®çš„é¡µé¢ç¼–å†™æ¥å£æ•°æ®å¤„ç†ï¼Œä»¥åŠæ•°æ®ç¼ºå¤±è¡¥å……å’Œå‹å¥½é¡µé¢æç¤ºé˜²æ­¢é¡µé¢å‡ºç°ä¸å¿…è¦çš„é”™è¯¯æç¤ºã€‚
</code></pre><pre><code>uba.config.jsæ–‡ä»¶ğŸ“ƒæ˜¯é¡¹ç›®é‡è¦é…ç½®æ–‡ä»¶åŒ…æ‹¬ç«¯å£å·é…ç½®ï¼Œä»£ç†æ¨¡å¼åˆ‡æ¢ï¼Œå…¬ç”¨å˜é‡é…ç½®ï¼Œå…¥å£æ–‡ä»¶é…ç½®ï¼Œä»¥åŠæ–‡ä»¶è§£æ**-loaderçš„é¢„è®¾ç½®ã€‚
</code></pre><pre><code>uba.mock.jsæ–‡ä»¶ğŸ“ƒæ˜¯ubaæ¨¡æ‹Ÿæœ¬åœ°æ•°æ®è¯·æ±‚é…ç½®æ–‡ä»¶ï¼Œæ–‡ä»¶æŒ‡å®šGETæ–¹å¼è¯·æ±‚æœ¬åœ°æ•°æ®è·¯å¾„ï¼ŒPOSTæ–¹å¼è¯·æ±‚æœ¬åœ°æ•°æ®è·¯å¾„ç­‰é…ç½®ã€‚
</code></pre><h4 id="7ã€å¯åŠ¨é¡¹ç›®">7ã€å¯åŠ¨é¡¹ç›®</h4><p>åˆå§‹åŒ–å®Œæˆã€‚cd åˆ°ç›®å½•ã€‚ä½¿ç”¨ uba serverå‘½ä»¤æ¥å¯åŠ¨é¡¹ç›®ã€‚<img src="../src/assets/images/reactfile/ubaserver.jpg" alt="ubaserver"></p>
<p>###æ¦‚è¿°</p>
<h3 id="åˆå¿ƒ">åˆå¿ƒ</h3><p>æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦åšè¿™ä¸ªæ•´ä½“è§£å†³æ–¹æ¡ˆã€‚</p>
<p>ç¬¬ä¸€ç‚¹ï¼Œç°åœ¨å‰ç«¯ç”Ÿæ€å¾ˆå¥½ï¼Œå„ç§æ¡†æ¶å’Œç±»åº“å±‚å‡ºä¸ç©·ï¼Œè´¨é‡å’Œæ˜“ç”¨æ€§ä¹Ÿæ˜¯å‚å·®ä¸é½ã€‚å¯¹äºæ¯ä¸€ä¸ªé¡¹ç›®ï¼Œå¤æ‚çš„å‰ç«¯é€‰å‹è¿‡ç¨‹å¸¦ç»™æˆ‘ä»¬æ²‰é‡çš„è´Ÿæ‹…ã€‚</p>
<p>ç¬¬äºŒç‚¹ï¼Œå½“æˆ‘ä»¬å¥½ä¸å®¹æ˜“åšå¥½äº†æŠ€æœ¯é€‰å‹ï¼Œåˆè¦èŠ±å¾ˆå¤šæ—¶é—´æ¥æ‹¼å‡‘ä»–ä»¬ï¼Œå¹¶ä¸”éœ€è¦æ²‰æ·€å¾ˆé•¿æ—¶é—´ï¼Œè¸©å¾ˆå¤šçš„å‘ï¼Œæ¥å¾—åˆ°ä¸€ä¸ªæ¯”è¾ƒå¥½çš„å®è·µã€‚</p>
<p>ç¬¬ä¸‰ç‚¹ï¼Œç°åœ¨å‰ç«¯å·¥ç¨‹æ—¥ç›Šå¤æ‚ï¼Œç›®å‰ä¸»æµçš„æ–¹æ¡ˆï¼Œéƒ½éœ€è¦ä¾èµ–äºwebpackæˆ–æ˜¯å…¶ä»–å·¥å…·æ¥è¾…åŠ©å¼€å‘ã€‚é…ç½®å¼€å‘å·¥ç¨‹å·²ç»å¾ˆéœ€è¦è€—æ—¶è€—åŠ›äº†ï¼Œ
åœ¨ä¸Šçº¿æ—¶ï¼Œè¿˜éœ€è¦æ›´æ·±å…¥çš„äº†è§£è¿™äº›å·¥å…·ï¼Œæ¥ä¼˜åŒ–æˆ‘ä»¬çš„å·¥å…·é…ç½®å’Œä»£ç ã€‚</p>
<p>è¿™äº›å†…å®¹éƒ½è€—è´¹äº†æˆ‘ä»¬å¤§é‡çš„å¿ƒåŠ›å’Œæ—¶é—´ã€‚æ‰€ä»¥è¿™é‡Œå°†æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­çš„æœ€ä½³å®è·µï¼Œåˆ†äº«å‡ºæ¥ï¼Œåšä¸€ä¸ªæ•´ä½“æŠ€æœ¯æ–¹æ¡ˆï¼Œä»‹ç»ç»™å¤§å®¶ã€‚</p>
<h3 id="æ•´ä½“ä»‹ç»">æ•´ä½“ä»‹ç»</h3><p>tinper-reactæ˜¯åŸºäºreactåº“åŠå‘¨è¾¹æŠ€æœ¯æ­å»ºçš„æ•´ä½“å¤æ‚åº”ç”¨è§£å†³æ–¹æ¡ˆã€‚é›†æˆäº†reactï¼Œreduxï¼Œaxiosï¼Œreact-routerï¼Œwebpackç­‰å¼€æºæŠ€æœ¯ã€‚
å¹¶æ ¹æ®å¤§é‡é¡¹ç›®çš„å®è·µï¼Œå¾—å‡ºçš„ä¸€å¥—æœ€ä½³è§£å†³æ–¹æ¡ˆã€‚å¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ­å»ºå‰ç«¯é¡¹ç›®ï¼Œåˆå¿«åˆå¥½åœ°å¼€å‘å‰ç«¯ä¸šåŠ¡ã€‚</p>
<p>é¦–å…ˆæ˜¯å¼€å‘å·¥å…·ï¼Œwebpackæ˜¯ä¸€ä¸ªå¾ˆå¥½å¾ˆå¼ºå¤§çš„å·¥å…·ï¼Œæˆ‘ä»¬æ ¹æ®é¡¹ç›®ä¸­çš„åº”ç”¨ï¼ŒåŠ è£…äº†ä¸€äº›é…ç½®ã€‚å°è£…æˆubaå¼€å‘å·¥å…·ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿç”Ÿæˆé¡¹ç›®ï¼Œ
æ— å¿§å¼€å‘ï¼Œè°ƒè¯•ï¼Œæ‰“åŒ…åŠä¼˜åŒ–ã€‚ç„¶åæ˜¯UIå±‚ï¼Œæˆ‘ä»¬å°è£…äº†å¾ˆå¤šçš„UIç»„ä»¶åº“tinper-beeï¼Œæ–¹ä¾¿å¿«é€Ÿå¼€å‘é¡µé¢ã€‚å¯¹äºå¤æ‚åº”ç”¨ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†mirrorè¿™ä¸ª
å¼€æºçš„æ•°æ®ç®¡ç†æ¡†æ¶ï¼Œå°†å¤æ‚çš„æ•°æ®ç®¡ç†ï¼Œè·¯ç”±æ“ä½œï¼Œé€šè¿‡ç®€å•çš„apiå’Œä½¿ç”¨æ–¹å¼æä¾›ç»™å¼€å‘è€…ï¼Œè®©å¼€å‘è€…æ¸…æ™°ç®€å•çš„å®Œæˆå¤æ‚åº”ç”¨çš„å¼€å‘å’Œç®¡ç†ã€‚</p>
<p>tinper-reactçš„æ•´ä½“æŠ€æœ¯æ–¹æ¡ˆï¼ŒåŒ…å«äº†ï¼š</p>
<ul>
<li><a href="https://github.com/iuap-design/tinper-uba">ubaå¼€å‘å·¥å…·</a></li>
<li><a href="http://bee.tinper.org/">tinper-beeUIç»„ä»¶åº“</a></li>
<li><a href="https://github.com/mirrorjs/mirror">mirroræ•°æ®ç®¡ç†æ¡†æ¶</a></li>
</ul>
<p><strong>uba</strong></p>
<p><code>uba</code>é‡‡ç”¨å¾®å†…æ ¸ã€å¤šæ’ä»¶å¼€å‘ï¼Œå®ƒåŸºäº <code>webpack</code> å°è£…çš„ <code>cli</code> å‘½ä»¤è¡Œå·¥å…·ï¼Œä¸ºäº†è§£å†³ç›®å‰å‰ç«¯å¿«é€Ÿå¼€å‘ä¸è¶³è€Œæ‰“é€ ï¼Œ
æä¾›ä¸€ç«™å¼é¡¹ç›®è„šæ‰‹æ¶ã€æœ€ä½³å®è·µåˆå§‹åŒ–ã€æœ¬åœ°æœåŠ¡è°ƒè¯•ã€æ•°æ®æ¨¡æ‹Ÿã€è¿œç¨‹ä»£ç†ã€èµ„æºç¼–è¯‘ã€é™æ€äº§å‡ºã€æ€§èƒ½ä¼˜åŒ–ç­‰åŠŸèƒ½ã€‚
<code>uba</code>æ˜¯ä¸€ä¸ªå‰ç«¯å¼€å‘å·¥å…·ï¼Œå¯ä»¥æä¾›å¤šç§å¼€å‘åœºæ™¯ã€‚ æ ¸å¿ƒå¼€å‘äººå‘˜ä¼šåœ¨è¿œç«¯æœ€ä½³å®è·µä»“åº“
<a href="https://github.com/uba-templates">uba-templates</a> è¿›è¡Œæ›´æ–°å’Œç»´æŠ¤ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ ¹æ®æ‰€éœ€çš„æ ·å¼å’ŒåŠŸèƒ½æä¾›ä¸åŒçš„æ¨¡æ¿ã€‚
å¯ä»¥ç»™ä½¿ç”¨å¼€å‘è€…æä¾›è½»é‡ã€ç®€å•ã€ä¾¿æ·çš„å¼€å‘ä½“éªŒï¼Œè®©å¼€å‘è€…ä»å¤æ‚çš„é…ç½®ä¸­è„±ç¦»å‡ºæ¥ï¼Œè¿™äº›å¤æ‚è€Œåˆä¸æ˜“åˆå­¦è€…å­¦ä¹ çš„å†…å®¹ï¼Œ
å°±äº¤ç»™æˆ‘<code>uba</code>æ¥è§£å†³å§ï¼</p>
<p><strong>tinper-bee</strong></p>
<p>tinper-bee æ˜¯åŸºäº iuap designè®¾è®¡è§„èŒƒå°è£…çš„ react ç»„ä»¶åº“ï¼ŒåŒ…å«ä¸°å¯Œçš„åŸºç¡€ç»„ä»¶å’Œåº”ç”¨ç»„ä»¶ï¼Œ
æ”¯æŒç»„ä»¶çš„çµæ´»è°ƒç”¨å’Œæ‰©å±•ï¼ŒåŠ©åŠ›å¿«é€Ÿè¿›è¡Œåº”ç”¨çš„ç»„ä»¶åŒ–å¼€å‘ã€‚å¹¶ä¸”æˆ‘ä»¬æä¾›é€‚ç”¨äºä¼ä¸šçº§åº”ç”¨çš„è¡¨å•ï¼Œ
è¡¨æ ¼å’Œgridç»„ä»¶ï¼Œæ»¡è¶³æ‚¨å¤§é‡æ•°æ®çš„å¤„ç†æ“ä½œå±•ç¤ºå’Œå¤æ‚äº¤äº’éœ€æ±‚ã€‚</p>
<p><strong>mirror</strong></p>
<p>Mirroræ˜¯åŸºäºreduxçš„reactæ•°æ®ç®¡ç†æ¡†æ¶ï¼Œç”¨æå°‘æ•°çš„ API å°è£…æ‰€æœ‰ç¹çç”šè‡³é‡å¤çš„å·¥ä½œï¼Œ
æä¾›ä¸€ç§ç®€æ´é«˜æ•ˆçš„æ›´é«˜çº§æŠ½è±¡ï¼ŒåŒæ—¶ä¿æŒåŸæœ‰çš„å¼€å‘æ¨¡å¼ã€‚</p>
<h3 id="å­¦ä¹ æŒ‡å¯¼">å­¦ä¹ æŒ‡å¯¼</h3><p>ä½¿ç”¨è¿™å¥—è§£å†³æ–¹æ¡ˆï¼Œä½ éœ€è¦æœ‰ä¸€äº›åŸºæœ¬çš„çŸ¥è¯†å‚¨å¤‡ï¼š</p>
<ul>
<li><a href="https://discountry.github.io/react/">react</a></li>
<li><a href="http://reacttraining.cn/web/guides/quick-start">react-router v4</a></li>
<li><a href="https://github.com/mzabriskie/axios">axios</a></li>
</ul>
<h2 id="åŸºäºTinper-beeä¸­çš„tableç»„ä»¶å’Œå…¶ä»–ç»„ä»¶ æ¥å®ç°å¸ç§è¡¨æ¡ˆä¾‹">åŸºäºTinper-beeä¸­çš„tableç»„ä»¶å’Œå…¶ä»–ç»„ä»¶ æ¥å®ç°å¸ç§è¡¨æ¡ˆä¾‹</h2><h3 id="ç›®å½•ç»“æ„">ç›®å½•ç»“æ„</h3><p>1ã€ä¸Šä¸€ç« æˆ‘ä»¬è®²è§£äº†ä½¿ç”¨ubaæ¥æ­å»ºä¸€ä¸ªé¡¹ç›®ï¼Œæ­£å¦‚å¤§å®¶æ‰€çœ‹åˆ°çš„ ä½¿ç”¨uba æ­å»ºä¸€ä¸ªé¡¹ç›®æ˜¯å¦‚æ­¤ç®€å•ï¼Œæ­å»ºå‡ºé¡¹ç›®ç¯å¢ƒåªæ˜¯æˆ‘ä»¬é¡¹ç›®çš„ç¬¬ä¸€æ­¥ï¼Œè¿™ä¸€ç« æˆ‘ä»¬æ¥è®²ä¸€ä¸‹åˆ©ç”¨tinper-beeç»„ä»¶æ¥å®ç°ä¸€ä¸ªcurrencv table ï¼ˆå¸ç§è¡¨ï¼‰ï¼Œé€šè¿‡è¿™ä¸ªè¡¨æˆ‘ä»¬èƒ½å¤Ÿåˆæ­¥äº†è§£ åˆ©ç”¨Reactã€es6 ç¼–å†™é¡¹ç›®é…åˆtinper-beeç»„ä»¶è¿…é€Ÿå®ç°ç¾è§‚å¤§æ–¹çš„é¡µé¢æ˜¯éå¸¸æ„‰å¿«çš„ä¸€ä»¶äº‹ã€‚ä»€ä¹ˆæ˜¯tinper-beeå‘¢ï¼Ÿç®€å•è¯´ä¸€ä¸‹ <a href="http://bee.tinper.org/">tinper-bee</a> tinper-bee æ˜¯åŸºäº iuap design çš„ react ç»„ä»¶åº“ï¼ŒåŒ…å«ä¸°å¯Œçš„åŸºç¡€ç»„ä»¶å’Œåº”ç”¨ç»„ä»¶ï¼Œæ”¯æŒç»„ä»¶çš„çµæ´»è°ƒç”¨å’Œæ‰©å±•ï¼ŒåŠ©åŠ›å¿«é€Ÿè¿›è¡Œåº”ç”¨çš„ç»„ä»¶åŒ–å¼€å‘ã€‚React æ˜¯ä¸€ä¸ªé‡‡ç”¨å£°æ˜å¼ï¼Œé«˜æ•ˆè€Œä¸”çµæ´»çš„ç”¨æ¥æ„å»ºç”¨æˆ·ç•Œé¢çš„æ¡†æ¶ã€‚<a href="https://doc.react-china.org/tutorial/tutorial.html">reactå¼€å‘ä¸­æ–‡ç‰ˆæ•™ç¨‹ç½‘å€</a>  </p>
<h4 id="ä¸°å¯Œçš„åŸºç¡€ç»„ä»¶">ä¸°å¯Œçš„åŸºç¡€ç»„ä»¶</h4><p>åŒ…å«å¤§é‡ç®€å•æ˜“ç”¨çš„åŸºç¡€ç»„ä»¶ï¼Œæ”¯æŒå¿«é€Ÿæ­å»ºé¡µé¢å’Œæ„å»ºæ‚¨çš„ä¸ªäººåº”ç”¨ã€‚</p>
<h4 id="ä¼ä¸šçº§ç‰¹æ€§ç»„ä»¶">ä¼ä¸šçº§ç‰¹æ€§ç»„ä»¶</h4><p>æä¾›é€‚ç”¨äºä¼ä¸šçº§åº”ç”¨çš„è¡¨å•ï¼Œè¡¨æ ¼å’Œgridç»„ä»¶ï¼Œæ»¡è¶³æ‚¨å¤§é‡æ•°æ®å¤„ç†æ“ä½œå±•ç¤ºå’Œå¤æ‚äº¤äº’éœ€æ±‚ã€‚</p>
<h4 id="æ”¯æŒå¼ºå¤§çš„ç»„ä»¶æ‰©å±•å’Œè‡ªå®šä¹‰">æ”¯æŒå¼ºå¤§çš„ç»„ä»¶æ‰©å±•å’Œè‡ªå®šä¹‰</h4><p>æ¯ä¸ªç»„ä»¶æä¾›äº†ä¸°å¯Œçš„APIæ¥å£å’Œå……åˆ†è‡ªç”±åº¦ç»™ç”¨æˆ·æ¥å®šä¹‰è‡ªå·±çš„ç»„ä»¶ï¼Œå®ç°ç”¨æˆ·æƒ³è¦çš„æ•ˆæœå’Œç‰¹æ€§ã€‚</p>
<p>ä¸Šé¢tinper-beeç½‘å€ä¸­æœ‰æ›´å¤šæ›´è¯¦ç»†çš„tinder-beeçš„ä»‹ç»ï¼Œåœ¨æ­¤æˆ‘ä»¬ä¸åšè¿‡å¤šçš„ä»‹ç»ï¼Œå¼€å§‹æ¥è¯´ä¸€ä¸‹æˆ‘ä»¬æ„å»ºå¸ç§é¡¹ç›®çš„ç›®å½•ç»“æ„ï¼›</p>
<p>2ã€é¦–å…ˆçœ‹ä¸€ä¸‹é¡¹ç›®å®ç°æ•ˆæœï¼š</p>
<p><img src="../src/assets/images/reactfile/currency/content.jpeg" alt="content"></p>
<p>å¸ç§è¡¨å•ç®€å•çš„å®ç°äº†æ•°æ®å±•ç¤ºï¼Œæ•°æ®ç¼–è¾‘ï¼Œæ•°æ®æ·»åŠ ï¼Œæ•°æ®åˆ é™¤åŠŸèƒ½ã€‚</p>
<p><img src="../src/assets/images/reactfile/currency/ç›®å½•ç»“æ„.jpg" alt="ç›®å½•ç»“æ„"></p>
<p>3ã€å¦‚å›¾æ‰€ç¤ºï¼Œassetsæ–‡ä»¶å­˜ğŸ“‚æ”¾ imagesæ–‡ä»¶å¤¹ğŸ“‚ï¼Œcomponentsæ–‡ä»¶å¤¹ğŸ“‚å­˜æ”¾å…¬ç”¨ç»„ä»¶ï¼Œpages æ–‡ä»¶å¤¹ğŸ“‚å­˜æ”¾é¡µé¢æ–‡ä»¶ï¼Œpagesåˆ†ä¸º appã€currencyã€defaultã€indexæ–‡ä»¶å¤¹ï¼›</p>
<h3 id="æ–‡ä»¶è®²è§£">æ–‡ä»¶è®²è§£</h3><p>1ã€é¦–å…ˆæˆ‘ä»¬ä»indexæ–‡ä»¶å¤¹å¼€å§‹è¯´èµ·ï¼Œæ­£å¦‚å¤§å®¶æ‰€äº†è§£çš„ï¼Œè¿™ä¸ªé¡¹ç›®ä¸ºå¤šé¡µé¡¹ç›®ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™ä¸ªé¡¹ç›®åˆ†ä¸ºå¤šä¸ªé¡µé¢ï¼Œæ¯ä¸ªé¡µé¢åˆ†ä¸ºä¸€ä¸ªæ–‡ä»¶å¤¹ğŸ“‚ï¼Œæ–¹ä¾¿ç®¡ç†çš„è§„åˆ™ï¼Œç›®å½•æ¸…æ™°ã€‚indexæ–‡ä»¶å¤¹å†…åˆ†æ–‡ï¼Œindex.js,index.css,index.html;æ­¤å¤„åœ¨uba.donfig.jså†…é…ç½®ï¼Œé¡µé¢å…¥å£ã€‚</p>
<pre><code>//devå¤šå…¥å£é…ç½®
glob.sync(&quot;./src/pages/*/index.js&quot;).forEach(path =&gt; {
  const chunk = path.split(&quot;./src/pages/&quot;)[1].split(&quot;/index.js&quot;)[0];
  entries[chunk] = [path, hotMiddlewareScript];
  chunks.push(chunk);
});
</code></pre><p>2ã€æˆ‘ä»¬é¦–å…ˆçœ‹ indexæ–‡ä»¶å¤¹ä¸­çš„index.html</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;zh-CN&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
  &lt;title&gt;Index&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;//design.yonyoucloud.com/static/tinper-bee/0.6.2/assets/tinper-bee.min.css&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;
  &lt;script src=&quot;//design.yonyoucloud.com/static/babel-polyfill/6.26.0/polyfill.min.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;//design.yonyoucloud.com/static/react/15.6.1/react.min.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;//design.yonyoucloud.com/static/react/15.6.1/react-dom.min.js&quot;&gt;&lt;/script&gt;
   &lt;script src=&quot;//design.yonyoucloud.com/static/tinper-bee/0.6.2/build/tinper-bee.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>é€šè¿‡ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹å‡ºï¼Œé¦–å…ˆæˆ‘ä»¬å¼•å…¥äº†tinper-bee.min.css åœ°å€ä¸ºçº¿ä¸Šåœ°å€ï¼Œæ­¤å¤„è¾ƒå¤§çš„æ–‡ä»¶ å¼•å…¥çº¿ä¸Šåœ°å€æ¥å‡å°‘æ‰“åŒ…åçš„é¡¹ç›®ä½“ç§¯ã€‚æ­¤å¤„script å¼•å…¥äº†ï¼Œpolyfill.min.js å¤„ç†IEä½ç‰ˆæœ¬æµè§ˆå™¨ä¸å…¼å®¹é—®é¢˜ï¼Œå’Œreactæ ¸å¿ƒä»£ç react.min.js å’Œreact-dom.min.js å’Œæˆ‘ä»¬ç»„ä»¶åº“æ ¸å¿ƒä»£ç  tinper-bee.js;å¾ˆæ˜¾çœ¼çš„ä¸€ä¸ªdiv id=â€˜appâ€™çš„å…ƒç´ ç”¨äºå­˜æ”¾æˆ‘ä»¬é€»è¾‘å¤„ç†åçš„å…ƒç´ ã€‚ç›¸å½“äºä¸€ä¸ªå®¹å™¨ä¾¿äºé¡µé¢åˆ‡æ¢å’Œå…ƒç´ å˜æ¢ã€‚</p>
<p>3ã€æˆ‘ä»¬åˆçœ‹ä¸€ä¸‹indexæ–‡ä»¶å¤¹ä¸­çš„index.js</p>
<pre><code>//å¼•å…¥reactæ ¸å¿ƒä»£ç å®šä¹‰å˜é‡ä¸ºReactï¼›
import React from &#39;react&#39;;
//å¼•å…¥react æ¸²æŸ“ä»£ç  å®šä¹‰ä¸ºReactDOM;
import ReactDOM from &#39;react-dom&#39;;
//å¼•å…¥é¡¹ç›®çš„æ ¸å¿ƒä»£ç  è·¯ç”±å…¥å£ä»£ç ï¼›
import App from &#39;../app/index&#39;
//å¼•å…¥ mirrorx é˜¿é‡Œå°è£…çš„reduxä»£ç ï¼›
import mirror, { Router, Route, render ,hashHistory} from &#39;mirrorx&#39;;
//å¼•å…¥ cssæ–‡ä»¶ï¼›æ¥ä¿®é¥° é¡µé¢å…ƒç´ æ ·å¼ï¼›
import &#39;./index.css&#39;;
//æ­¤å¤„è·å–é¡µé¢appå…ƒç´ ï¼Œæ¥å­˜æ”¾æˆ‘ä»¬é¡µé¢çš„è¾“å‡ºé¡µé¢ï¼›
const content = document.querySelector(&quot;#app&quot;);
//æ­¤å¤„å®šä¹‰ mirrorçš„é…ç½®è·¯ç”±æ¨¡å¼ä¸ºhashï¼›
mirror.defaults({
    historyMode: &#39;hash&#39;
});
//ä½¿ç”¨mirrorxä¸­çš„renderæ–¹æ³•æ¥æ¸²æŸ“é¡µé¢ã€‚
render(&lt;Router&gt;&lt;App /&gt;&lt;/Router&gt;, content);
</code></pre><p>é€šè¿‡ä¸Šé¢ä»£ç æ¥çœ‹index.jsæ˜¯æ ¸å¿ƒä»£ç ï¼Œå¼•å…¥éœ€è¦çš„ä»£ç ï¼Œæ¸²æŸ“é¡µé¢ã€‚</p>
<p>4ã€æˆ‘ä»¬å†çœ‹ä¸€ä¸‹index.css ï¼Œæˆ–è€…index.less;</p>
<pre><code>.Test{
  color : &quot;green&quot;;
  background: url(&quot;../../assets/images/jay.jpg&quot;) no-repeat center center;
}
.uf{
  font-size: 16px;
}
.u-breadcrumb{
  margin: 0;
  margin-bottom: 20px;
}
</code></pre><p>æ­¤å¤„ä»£ç å°±æ˜¯å®šä¹‰å…ƒç´ çš„æ˜¾ç¤ºæ–¹å¼ï¼Œä»¥åŠèƒŒæ™¯å›¾ç‰‡ï¼Œå­—ä½“å¤§å°ç­‰ã€‚</p>
<p>5ã€appæ–‡ä»¶å¤¹ä»£ç è§£æã€‚</p>
<p>appæ–‡ä»¶å¤¹ğŸ“‚ä¸­çš„index.js</p>
<pre><code>//å¼•å…¥reactæ ¸å¿ƒä»£ç ï¼›
import React, { Component } from &#39;react&#39;;
//å¼•å…¥mirrorxä¸­çš„è·¯ç”±ï¼›
import { Router, Route } from &#39;mirrorx&#39;;
//å¼•å…¥classnames æ¥å¤„ç† å…ƒç´ æ ·å¼çš„é€»è¾‘åˆ¤æ–­ã€‚ä¸‹é¢ä¼šå•ç‹¬è¯´classnamesçš„ç”¨æ³•ã€‚
import classnames from &#39;classnames&#39;;
//é‡ç‚¹æ¥äº†ï¼Œæ­¤å¤„å¼•å…¥ tinper-beeçš„ç»„ä»¶ Iconå’ŒConä¸¤ä¸ªç»„ä»¶ã€‚
import { Icon, Con } from &#39;tinper-bee&#39;;
// å¼•å…¥ç»„ä»¶æ¥å®ç°è·¯ç”±åˆ‡æ¢;
import Def from &#39;../default/index&#39;;
import Main from &#39;../main/index&#39;;
import AddList from &#39;../currency/index&#39;;
import Menus from &#39;components/Menus/index&#39;;
import MyHeader from &#39;components/MyHeader/index&#39;;
//å¼•å…¥æ ·å¼;
import &#39;./index.css&#39;;
//å®šä¹‰ Appç»„ä»¶
export default class App extends Component {
    constructor(props) {
    //æ­¤å¤„æ˜¯propsé›†æˆå­—Component
        super(props);
        //è¯¥ç»„ä»¶çš„çŠ¶æ€ï¼Œé€šè¿‡çŠ¶æ€æ¥æ§åˆ¶é¡µé¢é€»è¾‘ã€æ•°æ®ç­‰ã€‚
        this.state = {
            toggle: false
        }
    }
    // å±•å¼€æ”¶èµ·èœå•(å®šä¹‰äº‹ä»¶æ“ä½œå…ƒç´ )
    handleToggle = () =&gt; {
        this.setState({
            toggle: !this.state.toggle
        })
    }
    //é¡µé¢æ¸²æŸ“
    render() {
    //å®šä¹‰å˜é‡ ä½¿ç”¨es6ç»“æ„æ–¹æ³•è·å–å˜é‡ï¼Œæ­¤å¤„æœ‰ES6çš„è¯­æ³•è®²è§£çš„è¯¦æƒ…æ–‡æ¡£å°±ä¼šä¸€ç›®äº†ç„¶ã€‚
        const { toggle } = this.state;
        return (
            //æ­¤å¤„ä¸º å…ƒç´ è¡Œå†…æ ·å¼å†™æ³•ï¼Œä½†ä¸å»ºè®®å¦‚æ­¤å†™æ³•ï¼Œæœ€å¥½ç”¨classNameæ¥ä¿®é¥°å…ƒç´ ï¼Œé¡µé¢ä¸ä¼šä¹±ï¼Œæ–¹ä¾¿ç®¡ç†ï¼›
            &lt;div style={{ height: &#39;100%&#39; }}&gt;
                //react çš„classå†™æ³•æ˜¯className ä¸ºäº†é¿å… å®šä¹‰classçš„è¯­æ³•å†²çªï¼Œæ‰€ä»¥css çš„classå¿…é¡»ä½¿ç”¨classNameæ¥ä¿®é¥°å…ƒç´ ï¼Œclassnamseç»„ä»¶æ¥å®ç°æ ·å¼é€»è¾‘ã€‚
                &lt;div className={classnames(&quot;side-bar&quot;, { &quot;toggled&quot;: toggle })}&gt;
                    //ä¸‹é¢ä»£ç ä¸ºæ˜¯æ ¹æ®toggleçš„çŠ¶æ€æ¥æ§åˆ¶ æ˜¾ç¤ºIconå›¾æ ‡è¿˜æ˜¯imgå›¾ç‰‡æ ‡ç­¾ï¼›
                    {
                        toggle ? (
                            &lt;Icon type=&quot;uf-iuap-col&quot; className=&quot;nav-icon&quot; /&gt;
                        ) : (&lt;img src=&quot;//design.yonyoucloud.com/static/img/designer/logo.png&quot;
                        /&gt;)
                    }
                    //æ­¤å¤„å¼•å…¥å…¬ç”¨Menusç»„ä»¶ï¼›
                    &lt;Menus toggle={toggle} /&gt;
                &lt;/div&gt;
                &lt;div className={classnames(&quot;content&quot;, { &quot;toggled&quot;: toggle })}&gt;
                    &lt;MyHeader toggle={toggle} onToggle={this.handleToggle} /&gt;
                    &lt;Con fluid={true}&gt;
                        &lt;Route exact path=&quot;/&quot; component={Def} /&gt;
                        &lt;Route path=&quot;/AddList&quot; component={AddList} /&gt;
                        &lt;Route path=&quot;/Mains&quot; component={Main} /&gt;
                    &lt;/Con&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        )
    }
}
</code></pre><p>ä¸Šé¢ä»£ç æœ‰ç‚¹å¤šï¼Œæˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥è§£æï¼Œå¦å¤–ä¹Ÿå¯ä»¥å‚è€ƒä»£ç å†…æ³¨é‡Šï¼Œæ–¹ä¾¿ç†è§£ã€‚ä»£ç åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸ŠåŠéƒ¨åˆ†ä¸ºå¼•å…¥éƒ¨åˆ†ï¼Œæ¥å¼•ç”¨æˆ‘ä»¬å…¬ç”¨çš„ç»„ä»¶å…¬ç”¨çš„åº“ï¼Œå…¬ç”¨çš„æ ·å¼ç­‰æ–‡ä»¶ï¼Œæ­¤å¤„ä¸åšè¿‡å¤šçš„è§£é‡Šï¼Œä¸‹åŠéƒ¨åˆ†ä¸ºå®šä¹‰é»˜è®¤ç»„ä»¶å¹¶ä¸”è¾“å‡ºå»ã€‚</p>
<pre><code>export default class App extends Component //å®šä¹‰å¹¶è¾“å‡ºç»„ä»¶ï¼Œexport è¾“å‡º defualt é»˜è®¤ class ç»„ä»¶ ä¸ºAppåå­—çš„ç»„ä»¶ã€‚
</code></pre><p>æ­¤å¤„ä»£ç æ˜¯å®šä¹‰ç»„ä»¶ç»§æ‰¿å’Œå®šä¹‰çŠ¶æ€</p>
<pre><code> constructor(props) {
    //æ­¤å¤„æ˜¯propsé›†æˆå­—Component
        super(props);
        //è¯¥ç»„ä»¶çš„çŠ¶æ€ï¼Œé€šè¿‡çŠ¶æ€æ¥æ§åˆ¶é¡µé¢é€»è¾‘ã€æ•°æ®ç­‰ã€‚
        this.state = {
            toggle: false
        }
    }
</code></pre><p>æ­¤å¤„ä»£ç æ˜¯å®šä¹‰äº‹ä»¶æ–¹æ³•å¹¶ä¸”ä¿®æ”¹ç»„ä»¶çŠ¶æ€æ¥è¾¾åˆ°ä¸é¡µé¢äº’åŠ¨çš„æ•ˆæœ</p>
<pre><code> // å±•å¼€æ”¶èµ·èœå•(å®šä¹‰äº‹ä»¶æ“ä½œå…ƒç´ )
    handleToggle = () =&gt; {
        //åœ¨ç»„ä»¶å†…this ä»£è¡¨ç»„ä»¶æœ¬èº«ï¼Œthis.state å¯ä»¥ç›´æ¥è·å–ç»„ä»¶çŠ¶æ€  this.setState æ–¹æ³•æ¥æ”¹å˜ ç»„ä»¶çš„stateçŠ¶æ€ã€‚
        this.setState({
            toggle: !this.state.toggle
        })
    }
</code></pre><p>renderæ–¹æ³•çš„ä½¿ç”¨</p>
<pre><code> //é¡µé¢æ¸²æŸ“
    render() {
    //å®šä¹‰å˜é‡ ä½¿ç”¨es6ç»“æ„æ–¹æ³•è·å–å˜é‡ï¼Œæ­¤å¤„æœ‰ES6çš„è¯­æ³•è®²è§£çš„è¯¦æƒ…æ–‡æ¡£å°±ä¼šä¸€ç›®äº†ç„¶ã€‚
        const { toggle } = this.state;
        returnå‡ºå»åœ¨react 16ç‰ˆæœ¬ä¹‹å‰åªå…è®¸ è¾“å‡ºä¸€ä¸ªå…ƒç´ å°±æ˜¯é¡¶çº§å…ƒç´ å¤šäº†å°±ä¼šæŠ¥é”™ï¼Œ16ç‰ˆæœ¬ä¹‹åå°±å¯ä»¥return æ•°ç»„å¦‚ï¼šreturn [
             &lt;div&gt;222&lt;/div&gt;,
            &lt;div&gt;222&lt;/div&gt;,
        ]ï¼›
        å¯ä»¥return å­—ç¬¦ä¸² å¦‚ï¼š return &#39;æˆ‘æ˜¯ä¸€ä¸ªé™æ€å­—ç¬¦ä¸²ï¼Œæˆ‘è´Ÿè´£æ¸²æŸ“åå­—&#39;ç­‰ã€‚
        return (&lt;div&gt;æˆ‘æ˜¯è¾“å‡ºçš„å…ƒç´ &lt;/div&gt;)
        }
</code></pre><p>6ã€ä¸‹é¢æˆ‘ä»¬ä»‹ç»å¸ç§ç»„ä»¶ä»£ç ï¼›currencyç»„ä»¶ï¼›</p>
<p>å…ˆçœ‹index.js ä»£ç </p>
<pre><code>/**å¼•å…¥æ ¸å¿ƒä»£ç  cssæ ·å¼**/
import React, { Component } from &#39;react&#39;;
import { Link } from &#39;mirrorx&#39;;
import { Row, Col, Panel, Table, Select, Button, Modal, Form, FormControl, FormGroup, InputGroup, Icon, Input, Popconfirm, Animate, ControlLabel } from &#39;tinper-bee&#39;;
import &#39;./index.css&#39;;
</code></pre><p>å®šä¹‰ç»„ä»¶</p>
<pre><code>class AddList extends Component
</code></pre><p>å®šä¹‰ç»„ä»¶çŠ¶æ€ ä»¥åŠè¡¨æ ¼æ‰€ç”¨æ•°æ®ï¼›å› ä¸ºæ˜¯å‰ç«¯ä»£ç ï¼Œç›®å‰æ•°æ®æ¨¡æ‹Ÿä¸ºæœ¬åœ°æ•°æ®ï¼Œåç»­ä¼šå•ç‹¬è¯´å¯¹æ¥åå°è¯·æ±‚æ•°æ®ï¼›</p>
<pre><code>constructor(props) {
        super(props);
        // å®šä¹‰è¡¨æ ¼è¡¨å¤´
        this.columns = [
            { title: &quot;å¸ç§&quot;, dataIndex: &quot;name&quot;, key: &quot;name&quot;, width: &quot;30%&quot; },
            { title: &quot;ç¼–ç &quot;, dataIndex: &quot;code&quot;, key: &quot;code&quot; },
            { title: &quot;ç²¾åº¦&quot;, dataIndex: &quot;currdigit&quot;, key: &quot;currdigit&quot; },
            { title: &quot;çŠ¶æ€&quot;, dataIndex: &quot;enablestatus&quot;, key: &quot;enablestatus&quot; },
            {
                title: &quot;åˆ é™¤&quot;, dataIndex: &quot;operation&quot;, key: &quot;operation&quot;,
                render: (text, record, index) =&gt; {
                    return (
                        &lt;Popconfirm content=&quot;ç¡®è®¤åˆ é™¤?&quot; id=&quot;aa&quot; onClose={this.onDelete(index)}&gt;
                            &lt;Icon type=&quot;uf-del&quot; /&gt;
                        &lt;/Popconfirm&gt;
                    );
                }
            }
        ];
        this.state = {
            dataSource: [
                { key: &quot;0&quot;, name: &quot;æ²‰é±¼&quot;, code: &quot;1&quot;, currdigit: &quot;18&quot;, pk_currtype: false, enablestatus: &quot;96, 77, 89&quot;, },
                { key: &quot;1&quot;, name: &quot;è½é›&quot;, code: &quot;2&quot;, currdigit: &quot;18&quot;, pk_currtype: false, enablestatus: &quot;96, 77, 89&quot;, },
                { key: &quot;2&quot;, name: &quot;é—­æœˆ&quot;, code: &quot;3&quot;, currdigit: &quot;18&quot;, pk_currtype: false, enablestatus: &quot;96, 77, 89&quot;, },
                { key: &quot;3&quot;, name: &quot;ç¾èŠ±&quot;, code: &quot;4&quot;, currdigit: &quot;18&quot;, pk_currtype: false, enablestatus: &quot;96, 77, 89&quot;, },
            ],
            count: 1,
            showModal: false,
            refCbData: [],
            addOrChange: false,
            changeIndex: &#39;&#39;,
            name: &quot;&quot;,
            code: &quot;&quot;,
            currdigit: &quot;&quot;,
            enablestatus: &quot;1&quot;,
            pk_currtype: false,
            dataLink: [],

        };
        self = this;
    }
</code></pre><p>åˆå§‹åŒ–æ•°æ®æ­¤å¤„æœ‰ä¸€ä¸ªç”Ÿç–çš„å•è¯å°±æ˜¯ componentDidMountæ–¹æ³•ï¼Œè¿™å°±æ¶‰åŠåˆ°<a href="http://www.runoob.com/react/react-component-life-cycle.html">react ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ</a> ï¼Œç”Ÿå‘½å‘¨æœŸåŒ…æ‹¬ï¼š</p>
<p>å½“ç»„ä»¶åœ¨<strong>å®¢æˆ·ç«¯</strong>è¢«å®ä¾‹åŒ–ï¼Œç¬¬ä¸€æ¬¡è¢«åˆ›å»ºæ—¶ï¼Œä»¥ä¸‹æ–¹æ³•ä¾æ¬¡è¢«è°ƒç”¨ï¼š</p>
<p>1ã€getDefaultProps
2ã€getInitialState
3ã€componentWillMount
4ã€render
5ã€componentDidMount</p>
<p>å½“ç»„ä»¶åœ¨<strong>æœåŠ¡ç«¯</strong>è¢«å®ä¾‹åŒ–ï¼Œé¦–æ¬¡è¢«åˆ›å»ºæ—¶ï¼Œä»¥ä¸‹æ–¹æ³•ä¾æ¬¡è¢«è°ƒç”¨ï¼š</p>
<p>1ã€getDefaultProps
2ã€getInitialState
3ã€componentWillMount
4ã€render</p>
<pre><code>componentDidMount() {
        this.initData();
    }
    // åˆå§‹åŒ–æ•°æ®
    initData = () =&gt; {
        // axios({
        //     method: &#39;get&#39;,
        //     // http://10.11.65.50:9999/appdemo/train_currtype/list
        //     // https://api.douban.com/v2/book/search?q=javascript&amp;count=1
        //     url: &#39;http://api.douban.com/v2/book/search?q=javascript&amp;count=1    &#39;,
        // }).then(function (res) {
        //     console.log(res);
        // });

    }
</code></pre><p>ä»£ç ä¸­é—´éƒ¨åˆ†ä¸ºç»„ä»¶çš„æ–¹æ³•éƒ¨åˆ†å³æ˜¯é€»è¾‘å¤„ç†éƒ¨åˆ†</p>
<pre><code> //ç‚¹å‡»è¡Œæ‰§è¡Œæ–¹æ³•
 onCellChange = (index, key) =&gt; {
        return value =&gt; {
            const dataSource = [...this.state.dataSource];
            dataSource[index][key] = value;
            this.setState({ dataSource });
        };
    };
    // åˆ é™¤æ•°æ®æ‰§è¡Œæ–¹æ³•
    onDelete = (index) =&gt; {
        return () =&gt; {
            const dataSource = [...this.state.dataSource];
            dataSource.splice(index, 1);
            this.setState({ dataSource });
        };
    };
    ...
</code></pre><p>æœ€åå³æ˜¯æ¸²æŸ“é¡µé¢ å¹¶è¾“å‡ºç»„ä»¶</p>
<pre><code> // æ¸²æŸ“é¡µé¢
    render() {
        const { dataSource, addOrChange, dataLink } = this.state;
        const columns = this.columns;
        var data = this.state, tac = { &#39;text-align&#39;: &#39;right&#39; }, mt = { &#39;margin-top&#39;: &#39;10px&#39; }, lmt = { &#39;margin-top&#39;: &#39;18px&#39; }
        return (
            &lt;div&gt;
                &lt;Link to=&quot;/&quot;&gt;é¦–é¡µ&lt;/Link&gt;
                 &lt;Link to=&quot;/&quot;&gt;é¦–é¡µ&lt;/Link&gt;
                &lt;Modal
                    show={this.state.showModal}
                    onHide={this.close} &gt;
                    &lt;Modal.Header&gt;
                        &lt;Modal.Title&gt;{addOrChange ? &#39;ä¿®æ”¹&#39; : &#39;æ·»åŠ &#39;}å¸ç§ä¿¡æ¯ï¼š&lt;/Modal.Title&gt;
                    &lt;/Modal.Header&gt;
                    &lt;Row&gt;
                        &lt;Modal.Body ref={(c) =&gt; { this.FormData = c }} style={tac} &gt;
                            &lt;Col md={2} xs={2} sm={2} style={lmt}&gt;å¸ç§ï¼š&lt;/Col&gt;
                            &lt;Col md={4} xs={4} sm={4} &gt;&lt;FormControl type=&quot;text&quot; onChange={this.valueChange.bind(this, &#39;name&#39;)} value={data.name} style={mt} /&gt;
                            &lt;/Col&gt;
                            &lt;Col md={2} xs={2} sm={2} style={lmt}&gt;ç¼–ç ï¼š&lt;/Col&gt;
                            &lt;Col md={4} xs={4} sm={4} &gt;&lt;FormControl type=&quot;text&quot; onChange={this.valueChange.bind(this, &#39;code&#39;)} value={data.code} style={mt} /&gt; &lt;/Col&gt;
                            &lt;Col md={2} xs={2} sm={2} style={lmt}&gt;ç²¾åº¦ï¼š&lt;/Col&gt;
                            &lt;Col md={4} xs={4} sm={4} &gt;&lt;FormControl type=&quot;text&quot; onChange={this.valueChange.bind(this, &#39;currdigit&#39;)} value={data.currdigit} style={mt} /&gt;&lt;/Col&gt;

                        &lt;/Modal.Body&gt;
                    &lt;/Row&gt;
                    &lt;Modal.Footer&gt;
                        &lt;Button onClick={this.close} shape=&quot;border&quot; style={{ marginRight: 50 }}&gt;å…³é—­&lt;/Button&gt;
                        &lt;Button onClick={this.addMoreList} colors=&quot;primary&quot;&gt;{addOrChange ? &#39;ä¿®æ”¹&#39; : &#39;ç¡®è®¤&#39;}&lt;/Button&gt;
                    &lt;/Modal.Footer&gt;
                &lt;/Modal&gt;
                &lt;Button
                    className=&quot;editable-add-btn&quot;
                    colors=&quot;primary&quot;
                    className=&quot;a&quot;
                    onClick={this.handleAdd}
                &gt;
                    æ·»åŠ 
                &lt;/Button&gt;
                &lt;Table
                    bordered
                    data={dataSource}
                    columns={columns}
                    getBodyWrapper={this.getBodyWrapper}
                    onRowClick={this.rowClick}
                /&gt;
            &lt;/div&gt;)
         }
 //è¾“å‡ºç»„ä»¶æ–¹ä¾¿è°ƒç”¨
 export default AddList;
</code></pre><h4 id="æœ€åæ€»ç»“">æœ€åæ€»ç»“</h4><p>ä»¥ä¸Šä»£ç å°±æ˜¯ä¸€ä¸ªç®€å•çš„å¸ç§è¡¨æ ¼å®ç°æ–¹å¼ï¼Œç”±äºæ¶‰åŠé…ç½®éƒ¨åˆ†è¯·æ ¹æ®é¡¹ç›®ä¸åŒè‡ªè¡Œé…ç½®ã€‚</p>
<h2 id="ä¸»å­è¡¨ä»£ç è§£æ">ä¸»å­è¡¨ä»£ç è§£æ</h2><h3 id="æ–‡ä»¶ç›®å½•åˆ†æ">æ–‡ä»¶ç›®å½•åˆ†æ</h3><p>åˆ†æä¸»å­è¡¨ç›®å½•ç»“æ„ï¼Œæ ¹æ®ç»“æ„æ¥åˆ†æå…¶å†™æ³•å¯¹ç…§å¸ç§è¡¨ï¼Œæœ‰å“ªäº›ä¸åŒã€‚æˆ‘ä»¬çœ‹å¦‚ä¸‹å›¾ï¼Œåœ¨mainæ–‡ä»¶å¤¹ğŸ“‚å†…æœ‰ä¸€ä¸ªæ–‡ä»¶å¤¹componentï¼Œå‰æ–‡æˆ‘ä»¬è¯´è¿‡ï¼Œå…¬ç”¨ç»„ä»¶å­˜æ”¾åœ¨componentsæ–‡ä»¶å¤¹å†…ï¼Œè€Œå•å•ç‹¬é¡µé¢ä½¿ç”¨çš„ç»„ä»¶å­˜æ”¾åœ¨componentæ–‡ä»¶å¤¹å†…ï¼Œå¦‚å›¾å†…æ‰€ç¤ºï¼Œcomponentå†…åŒ…æ‹¬ï¼ŒaddModulã€editã€editHandleã€ç­‰ç»„ä»¶ï¼Œè¿™äº›ç»„ä»¶éƒ½ä¸ºä¸»å­è¡¨é¡µé¢å•ç‹¬ä½¿ç”¨ï¼Œä½¿ç”¨ç»„ä»¶ï¼Œæ˜“äºç®¡ç†ï¼Œæ–¹ä¾¿å¤ç”¨ã€‚</p>
<p><img src="../src/assets/images/reactfile/main/ç»“æ„.jpeg" alt="ç»“æ„"></p>
<h3 id="ä»£ç æŸ¥çœ‹">ä»£ç æŸ¥çœ‹</h3><p>çœ‹index.jsä»£ç </p>
<pre><code>import React, { Component } from &quot;react&quot;;
import classnames from &#39;classnames&#39;;
import { Table, Pagination } from &quot;tinper-bee&quot;;
// å†…éƒ¨ç»„ä»¶
import EditModul from &quot;./component/edit&quot;;
import Logo from &quot;./component/icon&quot;;
import AddModul from &quot;./component/addModul&quot;;
import SearchModul from &quot;./component/searchModul&quot;;
import EditHandle from &quot;./component/editHandle&quot;;
import {Link} from &#39;mirrorx&#39;;
</code></pre><p>ä¸Šé¢ä»£ç ä¸å¤šè¯´ï¼Œå¼•å…¥å¤–éƒ¨ç»„ä»¶ã€‚</p>
<pre><code>const tableColumns = [
    {
        dataIndex: &#39;description&#39;,
        key: &#39;description&#39;,
        title: &#39;å¤‡æ³¨&#39;
    },
    {
        dataIndex: &#39;status&#39;,
        key: &#39;status&#39;,
        title: &#39;çŠ¶æ€&#39;
    },
    // {
    //     dataIndex: &#39;ipuquotaionid&#39;,
    //     key: &#39;ipuquotaionid&#39;,
    //     title: &#39;ä¸»é”®&#39;
    // },
    {
        dataIndex: &#39;corp_account&#39;,
        key: &#39;corp_account&#39;,
        title: &#39;é“¶è¡Œè´¦å·&#39;
    },
    {
        dataIndex: &#39;processor&#39;,
        key: &#39;processor&#39;,
        title: &#39;å½•å…¥äºº&#39;
    },
    {
        dataIndex: &#39;processtime&#39;,
        key: &#39;processtime&#39;,
        title: &#39;è®¢å•æ—¥æœŸ&#39;
    },
    {
        dataIndex: &#39;currencyid&#39;,
        key: &#39;currencyid&#39;,
        title: &#39;å¸ç§&#39;
    },
    {
        dataIndex: &#39;currency_code&#39;,
        key: &#39;currency_code&#39;,
        title: &#39;å¸ç§ç¼–ç &#39;
    },
    {
        dataIndex: &#39;ecbillcode&#39;,
        key: &#39;ecbillcode&#39;,
        title: &#39;è®¢å•ç¼–å·&#39;
    },
    {
        dataIndex: &#39;contact&#39;,
        key: &#39;contact&#39;,
        title: &#39;è”ç³»äºº&#39;
    },
    {
        dataIndex: &#39;phone&#39;,
        key: &#39;phone&#39;,
        title: &#39;è”ç³»ç”µè¯&#39;
    }
];
const columnsChild = [
    { title: &quot;å¤‡æ³¨&quot;, dataIndex: &quot;productdesc&quot;, key: &quot;productdesc&quot; },
    { title: &quot;äº§å“&quot;, dataIndex: &quot;productname&quot;, key: &quot;productname&quot; },
    { title: &quot;è®¢å•é‡‘é¢&quot;, dataIndex: &quot;purchaseamount&quot;, key: &quot;purchaseamount&quot; },
    { title: &quot;å•ä½&quot;, dataIndex: &quot;unit&quot;, key: &quot;unit&quot; }
];
</code></pre><p>å®šä¹‰ä¸»è¡¨å’Œå­è¡¨çš„è¡¨å¤´ã€‚const ä¸ºES6è¯­æ³•å®šä¹‰å¸¸é‡ï¼Œä¸å¯ä¿®æ”¹ã€‚</p>
<p>å®šä¹‰Mainç»„ä»¶</p>
<pre><code>export default class Main extends Component
</code></pre><p>ç»„ä»¶å†…éƒ¨å®šä¹‰çŠ¶æ€</p>
<pre><code> constructor(props) {
        super(props);
        this.state = {
            // å­è¡¨æ•°æ®
            children_data: [],
            // å±•å¼€æ”¶èµ·
            toggle: false,
            // å½“å‰é€‰ä¸­è¡Œæ•°
            curIndex: &#39;&#39;,
            // å¢åŠ æ•°æ®æ¨¡å—
            isAddData: false,
            // æœç´¢æ¨¡å—
            isSearch: false,
            // ç¼–è¾‘æ¨¡å—
            isEdit: false,
            //è¡¨æ ¼æ•°æ®(æ­¤å¤„æ•°æ®åº”ä»åå°è·å–)
            tableData: [
                {
                    &#39;description&#39;: &#39;å¤‡æ³¨1&#39;,
                    &#39;status&#39;: &#39;å¯ç”¨&#39;,
                    &#39;subject&#39;: &#39;æå°é¾™&#39;,
                    &#39;ipuquotaionid&#39;: &#39;ä¸»é”®&#39;,
                    &#39;corp_account&#39;: &#39;8888 888 8888&#39;,
                    &#39;processor&#39;: &#39;æˆ¿å¸…ä¸­&#39;,
                    &#39;processtime&#39;: &#39;2012-01-09&#39;,
                    &#39;currencyid&#39;: &#39;çœŸ&#39;,
                    &#39;currency_code&#39;: &#39;001&#39;,
                    &#39;ecbillcode&#39;: &#39;000021&#39;,
                    &#39;contact&#39;: &#39;æå°é¾™&#39;,
                    &#39;phone&#39;: &#39;198888&#39;,
                    &#39;key&#39;: 0,
                    &#39;children_data&#39;: [
                        { ipuquotationdetailid: &#39;1&#39;, productdesc: &#39;å¤‡æ³¨1&#39;, productname: &#39;äº§å“1_1&#39;, purchaseamount: 1000, unit: &#39;å…ƒ&#39;, quotationid: &#39;1&#39;, key: &#39;1&#39; },
                        { ipuquotationdetailid: &#39;2&#39;, productdesc: &#39;å¤‡æ³¨2&#39;, productname: &#39;äº§å“1_2&#39;, purchaseamount: 1000, unit: &#39;å…ƒ&#39;, quotationid: &#39;2&#39;, key: &#39;2&#39; },
                    ]
                },
                {
                    &#39;description&#39;: &#39;å‡è£…æ˜¯ä¸ªå¤‡æ³¨&#39;,
                    &#39;status&#39;: &#39;å¯ç”¨&#39;,
                    &#39;subject&#39;: &#39;ç”„å­ä¸¹&#39;,
                    &#39;ipuquotaionid&#39;: &#39;ä¸»é”®&#39;,
                    &#39;corp_account&#39;: &#39;8888 888 8888&#39;,
                    &#39;processor&#39;: &#39;æˆ¿å¸…ä¸­&#39;,
                    &#39;processtime&#39;: &#39;2012-01-09&#39;,
                    &#39;currencyid&#39;: &#39;çœŸ&#39;,
                    &#39;currency_code&#39;: &#39;001&#39;,
                    &#39;ecbillcode&#39;: &#39;000021&#39;,
                    &#39;contact&#39;: &#39;ç”„å­ä¸¹&#39;,
                    &#39;phone&#39;: &#39;18701517173&#39;,
                    &#39;key&#39;: 1,
                    &#39;children_data&#39;: [
                        { ipuquotationdetailid: &#39;1&#39;, productdesc: &#39;å¤‡æ³¨2_1&#39;, productname: &#39;äº§å“2_1&#39;, purchaseamount: 1000, unit: &#39;å…ƒ&#39;, quotationid: &#39;1&#39;, key: &#39;1&#39; },
                    ]
                }
            ],
            curKey: 1
        };
    }
</code></pre><p>ç»„ä»¶å†…äº‹ä»¶æ–¹æ³•ä»£ç ï¼Œé€šè¿‡ä¸‹é¢ä»£ç å¯ä»¥çœ‹å‡ºæˆ‘ä»¬çš„äº‹ä»¶ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯åœ¨å¤„ç†Mainç»„ä»¶çš„stateå³çŠ¶æ€ï¼Œåœ¨ä¿®æ”¹çŠ¶æ€çš„åŒæ—¶å¤„ç†é¡µé¢æ˜¾ç¤ºï¼Œä»¥åŠæ•°æ®æ“ä½œã€‚</p>
<pre><code>// ç‚¹å‡»èœå•å±•å¼€æ”¶èµ·
    handleToggle = () =&gt; {
        this.setState({
            toggle: !this.state.toggle
        })
    }
    // ç‚¹å‡»è¡Œ
    rowclick = (record, index, e) =&gt; {
        let {tableData} = this.state, child = tableData[index].children_data;
        this.setState({ curIndex: index, children_data: child });
    };
    // ç‚¹å‡»å¢åŠ æŒ‰é’®
    addData = () =&gt; {
        this.setState({
            isAddData: true
        })
    }
    // å–æ¶ˆæ·»åŠ 
    cancelAdd = () =&gt; {
        this.setState({
            isAddData: false
        })
    }
    // æ·»åŠ æ•°æ®
    addButton = (obj) =&gt; {
        let {tableData, curKey} = this.state;
        console.log(curKey += 1);
        let addData = {
            &#39;description&#39;: obj.mName,
            &#39;status&#39;: &#39;å¯ç”¨&#39;,
            &#39;subject&#39;: &#39;ç”„å­ä¸¹&#39;,
            &#39;ipuquotaionid&#39;: &#39;ä¸»é”®&#39;,
            &#39;corp_account&#39;: &#39;8888 888 8888&#39;,
            &#39;processor&#39;: &#39;æˆ¿å¸…ä¸­&#39;,
            &#39;processtime&#39;: &#39;2012-01-09&#39;,
            &#39;currencyid&#39;: &#39;çœŸ&#39;,
            &#39;currency_code&#39;: &#39;001&#39;,
            &#39;ecbillcode&#39;: &#39;000021&#39;,
            &#39;contact&#39;: obj.mUser,
            &#39;phone&#39;: &#39;18701517173&#39;,
            &#39;key&#39;: curKey,
            &#39;children_data&#39;: obj.childData
        }
        tableData.push(addData)
        this.setState({
            tableData, curKey, isAddData: false
        })
    }
    // åˆ é™¤æ•°æ®
    deleteData = () =&gt; {
        let {curIndex, tableData, children_data} = this.state;
        if (curIndex === &#39;&#39;) {
            alert(&#39;è¯·é€‰æ‹©åˆ é™¤&#39;)
        } else {
            tableData.splice(curIndex, 1);
            this.setState({
                tableData, children_data: []
            })
        }
    }
    // ç¼–è¾‘æ•°æ®
    handleEdit = () =&gt; {
        this.setState({
            isEdit: true
        })
    }
    // å–æ¶ˆç¼–è¾‘
    cancelEdit = () =&gt; {
        this.setState({
            isEdit: false
        })
    }
    // å†»ç»“æ•°æ®
    frozen = () =&gt; {
        console.log(&#39;å†»ç»“æ•°æ®&#39;);
        let {curIndex, tableData, children_data} = this.state;
        if (curIndex === &#39;&#39;) {
            alert(&#39;è¯·é€‰æ‹©æ•°æ®&#39;)
        } else {
            tableData[curIndex].status = &#39;åœç”¨&#39;;
            console.log(tableData[curIndex]);
            this.setState({
                tableData
            })
        }

    }
    cancelFrozen = () =&gt; {
        let {curIndex, tableData, children_data} = this.state;
        if (curIndex === &#39;&#39;) {
            alert(&#39;è¯·é€‰æ‹©æ•°æ®&#39;)
        } else {
            tableData[curIndex].status = &#39;å¯ç”¨&#39;;
            console.log(tableData[curIndex]);
            this.setState({
                tableData
            })
        }
    }
</code></pre><p>æ¸²æŸ“éƒ¨åˆ†ä»£ç </p>
<pre><code> render() {
        let sh = { height: &#39;100%&#39; },
            {toggle, isAddData, isSearch, tableData, isEdit} = this.state;
        return (
            &lt;div&gt;
                &lt;Link to=&quot;/&quot;&gt;é¦–é¡µ&lt;/Link&gt;
                &lt;EditModul
                    addData={this.addData}
                    deleteData={this.deleteData}
                    handleEdit={this.handleEdit}
                    frozen={this.frozen}
                    cancelFrozen={this.cancelFrozen} /&gt;
                &lt;EditHandle
                    isEdit={isEdit}
                    cancelEdit={this.cancelEdit} /&gt;
                &lt;AddModul
                    isAddData={isAddData}
                    cancelAdd={this.cancelAdd}
                    addButton={this.addButton} /&gt;
                &lt;div&gt;{isAddData ? &quot;&quot; :
                    &lt;div&gt;
                        &lt;SearchModul
                            isSearch={isSearch} /&gt;
                        &lt;Table
                            style={{ width: &#39;100%&#39; }}
                            columns={tableColumns}
                            data={tableData}
                            onRowClick={this.rowclick}
                            title={currentData =&gt; &lt;div&gt;æ ‡é¢˜: æˆ‘æ˜¯ä¸»è¡¨&lt;/div&gt;}
                        /&gt;
                        &lt;Table
                            style={{ marginTop: 40 }}
                            columns={columnsChild}
                            data={this.state.children_data}
                            title={currentData =&gt; &lt;div&gt;æ ‡é¢˜: æˆ‘æ˜¯å­è¡¨&lt;/div&gt;}
                        /&gt;
                    &lt;/div&gt;
                }&lt;/div&gt;

            &lt;/div&gt;
        );
    }
</code></pre><h3 id="åˆ†æå­ç»„ä»¶">åˆ†æå­ç»„ä»¶</h3><p>æ­¤å¤„æˆ‘ä»¬ä»¥ç®€å•çš„ç¼–è¾‘ç»„ä»¶ä¸ºä¾‹è®²è§£ï¼Œçˆ¶ç»„ä»¶ä¸å­ç»„ä»¶ä¼ é€’æ•°æ®</p>
<pre><code>import React, { Component } from &#39;react&#39;;
import { Button } from &#39;tinper-bee&#39;;
//å¼•å…¥editæ ·å¼
require(&#39;./edit.less&#39;);
export default class EditModul extends Component {
    constructor(props) {
        super(props)

    }
    render() {
        return (
            &lt;div className=&quot;edit_modul&quot;&gt;
            æ­¤å¤„é€šè¿‡this.props æ¥æ‹¿åˆ° çˆ¶ç»„ä»¶çš„æ–¹æ³•ï¼Œå½“ç‚¹å‡»å­ç»„ä»¶çš„å…ƒç´ æ—¶ï¼Œæ¥æ‰§è¡Œçˆ¶ç»„ä»¶å®šä¹‰çš„æ–¹æ³•ï¼Œä»è€Œæ¥å®ç°ï¼Œç»„ä»¶ä¹‹é—´çš„ç›¸äº’ä¼ å€¼ï¼Œè°ƒç”¨ã€‚
                &lt;Button onClick={this.props.addData}&gt;å¢åŠ &lt;/Button&gt;
                &lt;Button onClick={this.props.deleteData}&gt;åˆ é™¤&lt;/Button&gt;
                &lt;Button onClick={this.props.handleEdit}&gt;ç¼–è¾‘&lt;/Button&gt;
                &lt;Button onClick={this.props.frozen}&gt;å†»ç»“&lt;/Button&gt;
                &lt;Button onClick={this.props.cancelFrozen}&gt;å–æ¶ˆå†»ç»“&lt;/Button&gt;
            &lt;/div&gt;
        )
    }
}
</code></pre>
        </div>
        <div class="col-md-3" role="complementary">
            <nav class="docs-sidebar hidden-print hidden-xs hidden-sm">
                <ul class="nav docs-sidenav">
                    
                    
                    <li>
                        
                        <a href="#ubaç¯å¢ƒæ­å»º" >ubaç¯å¢ƒæ­å»º</a>
                        
                    </li>
                    
                    
                    
                    
                    <ul class="nav" style="display:block">
                    
                        <li>
                            <a href="#nodeå®‰è£…ï¼š" >nodeå®‰è£…ï¼š</a>
                        </li>
                    
                    
                    
                    
                    
                        <li>
                            <a href="#å®‰è£… node ç¯å¢ƒæ¥å¤„ç†reacté¡¹ç›®çš„åŒ…ç®¡ç†" >å®‰è£… node ç¯å¢ƒæ¥å¤„ç†reacté¡¹ç›®çš„åŒ…ç®¡ç†</a>
                        </li>
                    
                    
                    
                    
                    
                        <li>
                            <a href="#å®‰è£…nodeåœ°å€" >å®‰è£…nodeåœ°å€</a>
                        </li>
                    
                    
                    
                    
                    
                        <li>
                            <a href="#å®‰è£…nodeæ•™ç¨‹" >å®‰è£…nodeæ•™ç¨‹</a>
                        </li>
                    
                    
                    
                    
                    
                        <li>
                            <a href="#æ£€æµ‹nodeå®‰è£…æ˜¯å¦æˆåŠŸ" >æ£€æµ‹nodeå®‰è£…æ˜¯å¦æˆåŠŸ</a>
                        </li>
                    
                    
                    
                    
                    
                        <li>
                            <a href="#npmä»‹ç»" >npmä»‹ç»</a>
                        </li>
                    
                    
                    
                    
                    
                        <li>
                            <a href="#å®‰è£…å®Œæˆ" >å®‰è£…å®Œæˆ</a>
                        </li>
                    
                    
                    
                    
                    
                        <li>
                            <a href="#windowç‰ˆæœ¬é…ç½®ç¯å¢ƒå˜é‡" >windowç‰ˆæœ¬é…ç½®ç¯å¢ƒå˜é‡</a>
                        </li>
                    
                    
                    
                    
                    
                        <li>
                            <a href="#ubaåˆå§‹åŒ–å·¥ç¨‹" >ubaåˆå§‹åŒ–å·¥ç¨‹</a>
                        </li>
                    
                    
                    
                    
                    
                        <li>
                            <a href="#åˆå¿ƒ" >åˆå¿ƒ</a>
                        </li>
                    
                    
                    
                    
                    
                        <li>
                            <a href="#æ•´ä½“ä»‹ç»" >æ•´ä½“ä»‹ç»</a>
                        </li>
                    
                    
                    
                    
                    
                        <li>
                            <a href="#å­¦ä¹ æŒ‡å¯¼" >å­¦ä¹ æŒ‡å¯¼</a>
                        </li>
                    
                    </ul>
                    
                    
                    
                    
                    <li>
                        
                        <a href="#åŸºäºTinper-beeä¸­çš„tableç»„ä»¶å’Œå…¶ä»–ç»„ä»¶ æ¥å®ç°å¸ç§è¡¨æ¡ˆä¾‹" >åŸºäºTinper-beeä¸­çš„tableç»„ä»¶å’Œå…¶ä»–ç»„ä»¶ æ¥å®ç°å¸ç§è¡¨æ¡ˆä¾‹</a>
                        
                    </li>
                    
                    
                    
                    
                    <ul class="nav" style="display:block">
                    
                        <li>
                            <a href="#ç›®å½•ç»“æ„" >ç›®å½•ç»“æ„</a>
                        </li>
                    
                    
                    
                    
                    
                        <li>
                            <a href="#æ–‡ä»¶è®²è§£" >æ–‡ä»¶è®²è§£</a>
                        </li>
                    
                    </ul>
                    
                    
                    
                    
                    <li>
                        
                        <a href="#ä¸»å­è¡¨ä»£ç è§£æ" >ä¸»å­è¡¨ä»£ç è§£æ</a>
                        
                    </li>
                    
                    
                    
                    
                    <ul class="nav" style="display:block">
                    
                        <li>
                            <a href="#æ–‡ä»¶ç›®å½•åˆ†æ" >æ–‡ä»¶ç›®å½•åˆ†æ</a>
                        </li>
                    
                    
                    
                    
                    
                        <li>
                            <a href="#ä»£ç æŸ¥çœ‹" >ä»£ç æŸ¥çœ‹</a>
                        </li>
                    
                    
                    
                    
                    
                        <li>
                            <a href="#åˆ†æå­ç»„ä»¶" >åˆ†æå­ç»„ä»¶</a>
                        </li>
                    
                    
                    
                </ul>
            </nav>
        </div>
    </div>
    
    
</div>

<!-- Footer
================================================== -->
<footer class="docs-footer" role="contentinfo">
    <div class="container">
        <p>Made By YonYouFED. Â© 2014 - 2016</p>
    </div>
</footer>

<script src="source/jquery.min.js"></script>
<script src="source/bootstrap.min.js"></script>
<script src="source/docs.min.js"></script>
<script src="source/highlight.min.js"></script>
<script>
    $(document).ready(function() {
        $('code').each(function(i, block) {
            if (block.innerHTML.indexOf('\n') != -1) {
                var pn = block.parentNode;
                if (pn.tagName.toUpperCase() == 'PRE') {
                    try {
                        hljs.highlightBlock(block);
                    } catch(e) {}
                } else {
                    pn.innerHTML = '<pre><code>' + block.innerHTML + '</code></pre>';
                    try {
                        hljs.highlightBlock(pn.childNodes[0].childNodes[0]);
                    } catch(e) {}
                }
            }
        });

        var winHeight = $(window).height() - 40,
            sidebar = $('.docs-sidebar');

        if (sidebar.height() > winHeight) {

            sidebar.css('max-height', winHeight + 'px');
            sidebar.css('overflow', 'scroll');

            var activeMenu,
                barScroll = false;

            sidebar.on('mouseover', function() {
                barScroll = true;
            });

            sidebar.on('mouseout', function() {
                barScroll = false;
            });
            if (!barScroll) {
                var activeItem = $('.docs-sidebar li.active a');
                if (activeItem.length) {
                    if (!activeMenu || (activeMenu.attr('href') != activeItem.attr('href'))) {
                        activeMenu = activeItem;
                        var top = activeMenu.offset().top - sidebar.offset().top;
                        if (top < 0) {
                            sidebar.scrollTop(sidebar.scrollTop() + top);
                        } else if (top > winHeight - 30) {
                            sidebar.scrollTop(sidebar.scrollTop() + top - winHeight + 30);
                        }
                    }
                }
            }
            $(window).on('scroll', function(e) {
                if (!barScroll) {
                    var activeItem = $('.docs-sidebar li.active a');
                    if (activeItem.length) {
                        if (!activeMenu || (activeMenu.attr('href') != activeItem.attr('href'))) {
                            activeMenu = activeItem;
                            var top = activeMenu.offset().top - sidebar.offset().top;
                            if (top < 0) {
                                sidebar.scrollTop(sidebar.scrollTop() + top);
                            } else if (top > winHeight - 30) {
                                sidebar.scrollTop(sidebar.scrollTop() + top - winHeight + 30);
                            }
                        }
                    }
                }
            });
        }
    });
</script>
</body>
</html>
