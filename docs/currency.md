# åŸºäºTinper-beeä¸­çš„tableç»„ä»¶å’Œå…¶ä»–ç»„ä»¶ æ¥å®ç°å¸ç§è¡¨æ¡ˆä¾‹

### ç›®å½•ç»“æ„

1ã€ä¸Šä¸€ç« æˆ‘ä»¬è®²è§£äº†ä½¿ç”¨ubaæ¥æ­å»ºä¸€ä¸ªé¡¹ç›®ï¼Œæ­£å¦‚å¤§å®¶æ‰€çœ‹åˆ°çš„ ä½¿ç”¨uba æ­å»ºä¸€ä¸ªé¡¹ç›®æ˜¯å¦‚æ­¤ç®€å•ï¼Œæ­å»ºå‡ºé¡¹ç›®ç¯å¢ƒåªæ˜¯æˆ‘ä»¬é¡¹ç›®çš„ç¬¬ä¸€æ­¥ï¼Œè¿™ä¸€ç« æˆ‘ä»¬æ¥è®²ä¸€ä¸‹åˆ©ç”¨tinper-beeç»„ä»¶æ¥å®ç°ä¸€ä¸ªcurrencv table ï¼ˆå¸ç§è¡¨ï¼‰ï¼Œé€šè¿‡è¿™ä¸ªè¡¨æˆ‘ä»¬èƒ½å¤Ÿåˆæ­¥äº†è§£ åˆ©ç”¨Reactã€es6 ç¼–å†™é¡¹ç›®é…åˆtinper-beeç»„ä»¶è¿…é€Ÿå®ç°ç¾è§‚å¤§æ–¹çš„é¡µé¢æ˜¯éå¸¸æ„‰å¿«çš„ä¸€ä»¶äº‹ã€‚ä»€ä¹ˆæ˜¯tinper-beeå‘¢ï¼Ÿç®€å•è¯´ä¸€ä¸‹ [tinper-bee](http://bee.tinper.org/) tinper-bee æ˜¯åŸºäº iuap design çš„ react ç»„ä»¶åº“ï¼ŒåŒ…å«ä¸°å¯Œçš„åŸºç¡€ç»„ä»¶å’Œåº”ç”¨ç»„ä»¶ï¼Œæ”¯æŒç»„ä»¶çš„çµæ´»è°ƒç”¨å’Œæ‰©å±•ï¼ŒåŠ©åŠ›å¿«é€Ÿè¿›è¡Œåº”ç”¨çš„ç»„ä»¶åŒ–å¼€å‘ã€‚React æ˜¯ä¸€ä¸ªé‡‡ç”¨å£°æ˜å¼ï¼Œé«˜æ•ˆè€Œä¸”çµæ´»çš„ç”¨æ¥æ„å»ºç”¨æˆ·ç•Œé¢çš„æ¡†æ¶ã€‚[reactå¼€å‘ä¸­æ–‡ç‰ˆæ•™ç¨‹ç½‘å€](https://doc.react-china.org/tutorial/tutorial.html)  

#### ä¸°å¯Œçš„åŸºç¡€ç»„ä»¶

åŒ…å«å¤§é‡ç®€å•æ˜“ç”¨çš„åŸºç¡€ç»„ä»¶ï¼Œæ”¯æŒå¿«é€Ÿæ­å»ºé¡µé¢å’Œæ„å»ºæ‚¨çš„ä¸ªäººåº”ç”¨ã€‚

#### ä¼ä¸šçº§ç‰¹æ€§ç»„ä»¶

æä¾›é€‚ç”¨äºä¼ä¸šçº§åº”ç”¨çš„è¡¨å•ï¼Œè¡¨æ ¼å’Œgridç»„ä»¶ï¼Œæ»¡è¶³æ‚¨å¤§é‡æ•°æ®å¤„ç†æ“ä½œå±•ç¤ºå’Œå¤æ‚äº¤äº’éœ€æ±‚ã€‚

#### æ”¯æŒå¼ºå¤§çš„ç»„ä»¶æ‰©å±•å’Œè‡ªå®šä¹‰

æ¯ä¸ªç»„ä»¶æä¾›äº†ä¸°å¯Œçš„APIæ¥å£å’Œå……åˆ†è‡ªç”±åº¦ç»™ç”¨æˆ·æ¥å®šä¹‰è‡ªå·±çš„ç»„ä»¶ï¼Œå®ç°ç”¨æˆ·æƒ³è¦çš„æ•ˆæœå’Œç‰¹æ€§ã€‚

ä¸Šé¢tinper-beeç½‘å€ä¸­æœ‰æ›´å¤šæ›´è¯¦ç»†çš„tinder-beeçš„ä»‹ç»ï¼Œåœ¨æ­¤æˆ‘ä»¬ä¸åšè¿‡å¤šçš„ä»‹ç»ï¼Œå¼€å§‹æ¥è¯´ä¸€ä¸‹æˆ‘ä»¬æ„å»ºå¸ç§é¡¹ç›®çš„ç›®å½•ç»“æ„ï¼›

2ã€é¦–å…ˆçœ‹ä¸€ä¸‹é¡¹ç›®å®ç°æ•ˆæœï¼š

![content](../src/assets/images/reactfile/currency/content.jpeg)

å¸ç§è¡¨å•ç®€å•çš„å®ç°äº†æ•°æ®å±•ç¤ºï¼Œæ•°æ®ç¼–è¾‘ï¼Œæ•°æ®æ·»åŠ ï¼Œæ•°æ®åˆ é™¤åŠŸèƒ½ã€‚

![ç›®å½•ç»“æ„](../src/assets/images/reactfile/currency/ç›®å½•ç»“æ„.jpg)

3ã€å¦‚å›¾æ‰€ç¤ºï¼Œassetsæ–‡ä»¶å­˜ğŸ“‚æ”¾ imagesæ–‡ä»¶å¤¹ğŸ“‚ï¼Œcomponentsæ–‡ä»¶å¤¹ğŸ“‚å­˜æ”¾å…¬ç”¨ç»„ä»¶ï¼Œpages æ–‡ä»¶å¤¹ğŸ“‚å­˜æ”¾é¡µé¢æ–‡ä»¶ï¼Œpagesåˆ†ä¸º appã€currencyã€defaultã€indexæ–‡ä»¶å¤¹ï¼›

### æ–‡ä»¶è®²è§£

1ã€é¦–å…ˆæˆ‘ä»¬ä»indexæ–‡ä»¶å¤¹å¼€å§‹è¯´èµ·ï¼Œæ­£å¦‚å¤§å®¶æ‰€äº†è§£çš„ï¼Œè¿™ä¸ªé¡¹ç›®ä¸ºå¤šé¡µé¡¹ç›®ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™ä¸ªé¡¹ç›®åˆ†ä¸ºå¤šä¸ªé¡µé¢ï¼Œæ¯ä¸ªé¡µé¢åˆ†ä¸ºä¸€ä¸ªæ–‡ä»¶å¤¹ğŸ“‚ï¼Œæ–¹ä¾¿ç®¡ç†çš„è§„åˆ™ï¼Œç›®å½•æ¸…æ™°ã€‚indexæ–‡ä»¶å¤¹å†…åˆ†æ–‡ï¼Œindex.js,index.css,index.html;æ­¤å¤„åœ¨uba.donfig.jså†…é…ç½®ï¼Œé¡µé¢å…¥å£ã€‚

```
//devå¤šå…¥å£é…ç½®
glob.sync("./src/pages/*/index.js").forEach(path => {
  const chunk = path.split("./src/pages/")[1].split("/index.js")[0];
  entries[chunk] = [path, hotMiddlewareScript];
  chunks.push(chunk);
});
```

2ã€æˆ‘ä»¬é¦–å…ˆçœ‹ indexæ–‡ä»¶å¤¹ä¸­çš„index.html

```
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Index</title>
    <link rel="stylesheet" href="//design.yonyoucloud.com/static/tinper-bee/0.6.2/assets/tinper-bee.min.css">
</head>
<body>
  <div id="app"></div>
  <script src="//design.yonyoucloud.com/static/babel-polyfill/6.26.0/polyfill.min.js"></script>
  <script src="//design.yonyoucloud.com/static/react/15.6.1/react.min.js"></script>
  <script src="//design.yonyoucloud.com/static/react/15.6.1/react-dom.min.js"></script>
   <script src="//design.yonyoucloud.com/static/tinper-bee/0.6.2/build/tinper-bee.js"></script>
</body>
</html>
```

é€šè¿‡ä¸Šé¢çš„ä»£ç å¯ä»¥çœ‹å‡ºï¼Œé¦–å…ˆæˆ‘ä»¬å¼•å…¥äº†tinper-bee.min.css åœ°å€ä¸ºçº¿ä¸Šåœ°å€ï¼Œæ­¤å¤„è¾ƒå¤§çš„æ–‡ä»¶ å¼•å…¥çº¿ä¸Šåœ°å€æ¥å‡å°‘æ‰“åŒ…åçš„é¡¹ç›®ä½“ç§¯ã€‚æ­¤å¤„script å¼•å…¥äº†ï¼Œpolyfill.min.js å¤„ç†IEä½ç‰ˆæœ¬æµè§ˆå™¨ä¸å…¼å®¹é—®é¢˜ï¼Œå’Œreactæ ¸å¿ƒä»£ç react.min.js å’Œreact-dom.min.js å’Œæˆ‘ä»¬ç»„ä»¶åº“æ ¸å¿ƒä»£ç  tinper-bee.js;å¾ˆæ˜¾çœ¼çš„ä¸€ä¸ªdiv id=â€˜appâ€™çš„å…ƒç´ ç”¨äºå­˜æ”¾æˆ‘ä»¬é€»è¾‘å¤„ç†åçš„å…ƒç´ ã€‚ç›¸å½“äºä¸€ä¸ªå®¹å™¨ä¾¿äºé¡µé¢åˆ‡æ¢å’Œå…ƒç´ å˜æ¢ã€‚



3ã€æˆ‘ä»¬åˆçœ‹ä¸€ä¸‹indexæ–‡ä»¶å¤¹ä¸­çš„index.js

```
//å¼•å…¥reactæ ¸å¿ƒä»£ç å®šä¹‰å˜é‡ä¸ºReactï¼›
import React from 'react';
//å¼•å…¥react æ¸²æŸ“ä»£ç  å®šä¹‰ä¸ºReactDOM;
import ReactDOM from 'react-dom';
//å¼•å…¥é¡¹ç›®çš„æ ¸å¿ƒä»£ç  è·¯ç”±å…¥å£ä»£ç ï¼›
import App from '../app/index'
//å¼•å…¥ mirrorx é˜¿é‡Œå°è£…çš„reduxä»£ç ï¼›
import mirror, { Router, Route, render ,hashHistory} from 'mirrorx';
//å¼•å…¥ cssæ–‡ä»¶ï¼›æ¥ä¿®é¥° é¡µé¢å…ƒç´ æ ·å¼ï¼›
import './index.css';
//æ­¤å¤„è·å–é¡µé¢appå…ƒç´ ï¼Œæ¥å­˜æ”¾æˆ‘ä»¬é¡µé¢çš„è¾“å‡ºé¡µé¢ï¼›
const content = document.querySelector("#app");
//æ­¤å¤„å®šä¹‰ mirrorçš„é…ç½®è·¯ç”±æ¨¡å¼ä¸ºhashï¼›
mirror.defaults({
    historyMode: 'hash'
});
//ä½¿ç”¨mirrorxä¸­çš„renderæ–¹æ³•æ¥æ¸²æŸ“é¡µé¢ã€‚
render(<Router><App /></Router>, content);
```

é€šè¿‡ä¸Šé¢ä»£ç æ¥çœ‹index.jsæ˜¯æ ¸å¿ƒä»£ç ï¼Œå¼•å…¥éœ€è¦çš„ä»£ç ï¼Œæ¸²æŸ“é¡µé¢ã€‚

4ã€æˆ‘ä»¬å†çœ‹ä¸€ä¸‹index.css ï¼Œæˆ–è€…index.less;

```
.Test{
  color : "green";
  background: url("../../assets/images/jay.jpg") no-repeat center center;
}
.uf{
  font-size: 16px;
}
.u-breadcrumb{
  margin: 0;
  margin-bottom: 20px;
}
```

æ­¤å¤„ä»£ç å°±æ˜¯å®šä¹‰å…ƒç´ çš„æ˜¾ç¤ºæ–¹å¼ï¼Œä»¥åŠèƒŒæ™¯å›¾ç‰‡ï¼Œå­—ä½“å¤§å°ç­‰ã€‚

5ã€appæ–‡ä»¶å¤¹ä»£ç è§£æã€‚

appæ–‡ä»¶å¤¹ğŸ“‚ä¸­çš„index.js

```
//å¼•å…¥reactæ ¸å¿ƒä»£ç ï¼›
import React, { Component } from 'react';
//å¼•å…¥mirrorxä¸­çš„è·¯ç”±ï¼›
import { Router, Route } from 'mirrorx';
//å¼•å…¥classnames æ¥å¤„ç† å…ƒç´ æ ·å¼çš„é€»è¾‘åˆ¤æ–­ã€‚ä¸‹é¢ä¼šå•ç‹¬è¯´classnamesçš„ç”¨æ³•ã€‚
import classnames from 'classnames';
//é‡ç‚¹æ¥äº†ï¼Œæ­¤å¤„å¼•å…¥ tinper-beeçš„ç»„ä»¶ Iconå’ŒConä¸¤ä¸ªç»„ä»¶ã€‚
import { Icon, Con } from 'tinper-bee';
// å¼•å…¥ç»„ä»¶æ¥å®ç°è·¯ç”±åˆ‡æ¢;
import Def from '../default/index';
import Main from '../main/index';
import AddList from '../currency/index';
import Menus from 'components/Menus/index';
import MyHeader from 'components/MyHeader/index';
//å¼•å…¥æ ·å¼;
import './index.css';
//å®šä¹‰ Appç»„ä»¶
export default class App extends Component {
    constructor(props) {
    //æ­¤å¤„æ˜¯propsé›†æˆå­—Component
        super(props);
        //è¯¥ç»„ä»¶çš„çŠ¶æ€ï¼Œé€šè¿‡çŠ¶æ€æ¥æ§åˆ¶é¡µé¢é€»è¾‘ã€æ•°æ®ç­‰ã€‚
        this.state = {
            toggle: false
        }
    }
    // å±•å¼€æ”¶èµ·èœå•(å®šä¹‰äº‹ä»¶æ“ä½œå…ƒç´ )
    handleToggle = () => {
        this.setState({
            toggle: !this.state.toggle
        })
    }
    //é¡µé¢æ¸²æŸ“
    render() {
    //å®šä¹‰å˜é‡ ä½¿ç”¨es6ç»“æ„æ–¹æ³•è·å–å˜é‡ï¼Œæ­¤å¤„æœ‰ES6çš„è¯­æ³•è®²è§£çš„è¯¦æƒ…æ–‡æ¡£å°±ä¼šä¸€ç›®äº†ç„¶ã€‚
        const { toggle } = this.state;
        return (
        	//æ­¤å¤„ä¸º å…ƒç´ è¡Œå†…æ ·å¼å†™æ³•ï¼Œä½†ä¸å»ºè®®å¦‚æ­¤å†™æ³•ï¼Œæœ€å¥½ç”¨classNameæ¥ä¿®é¥°å…ƒç´ ï¼Œé¡µé¢ä¸ä¼šä¹±ï¼Œæ–¹ä¾¿ç®¡ç†ï¼›
            <div style={{ height: '100%' }}>
            	//react çš„classå†™æ³•æ˜¯className ä¸ºäº†é¿å… å®šä¹‰classçš„è¯­æ³•å†²çªï¼Œæ‰€ä»¥css çš„classå¿…é¡»ä½¿ç”¨classNameæ¥ä¿®é¥°å…ƒç´ ï¼Œclassnamseç»„ä»¶æ¥å®ç°æ ·å¼é€»è¾‘ã€‚
                <div className={classnames("side-bar", { "toggled": toggle })}>
                	//ä¸‹é¢ä»£ç ä¸ºæ˜¯æ ¹æ®toggleçš„çŠ¶æ€æ¥æ§åˆ¶ æ˜¾ç¤ºIconå›¾æ ‡è¿˜æ˜¯imgå›¾ç‰‡æ ‡ç­¾ï¼›
                    {
                        toggle ? (
                            <Icon type="uf-iuap-col" className="nav-icon" />
                        ) : (<img src="//design.yonyoucloud.com/static/img/designer/logo.png"
                        />)
                    }
                    //æ­¤å¤„å¼•å…¥å…¬ç”¨Menusç»„ä»¶ï¼›
                    <Menus toggle={toggle} />
                </div>
                <div className={classnames("content", { "toggled": toggle })}>
                    <MyHeader toggle={toggle} onToggle={this.handleToggle} />
                    <Con fluid={true}>
                        <Route exact path="/" component={Def} />
                        <Route path="/AddList" component={AddList} />
                        <Route path="/Mains" component={Main} />
                    </Con>
                </div>
            </div>
        )
    }
}
```

ä¸Šé¢ä»£ç æœ‰ç‚¹å¤šï¼Œæˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥è§£æï¼Œå¦å¤–ä¹Ÿå¯ä»¥å‚è€ƒä»£ç å†…æ³¨é‡Šï¼Œæ–¹ä¾¿ç†è§£ã€‚ä»£ç åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸ŠåŠéƒ¨åˆ†ä¸ºå¼•å…¥éƒ¨åˆ†ï¼Œæ¥å¼•ç”¨æˆ‘ä»¬å…¬ç”¨çš„ç»„ä»¶å…¬ç”¨çš„åº“ï¼Œå…¬ç”¨çš„æ ·å¼ç­‰æ–‡ä»¶ï¼Œæ­¤å¤„ä¸åšè¿‡å¤šçš„è§£é‡Šï¼Œä¸‹åŠéƒ¨åˆ†ä¸ºå®šä¹‰é»˜è®¤ç»„ä»¶å¹¶ä¸”è¾“å‡ºå»ã€‚

```
export default class App extends Component //å®šä¹‰å¹¶è¾“å‡ºç»„ä»¶ï¼Œexport è¾“å‡º defualt é»˜è®¤ class ç»„ä»¶ ä¸ºAppåå­—çš„ç»„ä»¶ã€‚
```

æ­¤å¤„ä»£ç æ˜¯å®šä¹‰ç»„ä»¶ç»§æ‰¿å’Œå®šä¹‰çŠ¶æ€

```
 constructor(props) {
    //æ­¤å¤„æ˜¯propsé›†æˆå­—Component
        super(props);
        //è¯¥ç»„ä»¶çš„çŠ¶æ€ï¼Œé€šè¿‡çŠ¶æ€æ¥æ§åˆ¶é¡µé¢é€»è¾‘ã€æ•°æ®ç­‰ã€‚
        this.state = {
            toggle: false
        }
    }
```

æ­¤å¤„ä»£ç æ˜¯å®šä¹‰äº‹ä»¶æ–¹æ³•å¹¶ä¸”ä¿®æ”¹ç»„ä»¶çŠ¶æ€æ¥è¾¾åˆ°ä¸é¡µé¢äº’åŠ¨çš„æ•ˆæœ

```
 // å±•å¼€æ”¶èµ·èœå•(å®šä¹‰äº‹ä»¶æ“ä½œå…ƒç´ )
    handleToggle = () => {
    	//åœ¨ç»„ä»¶å†…this ä»£è¡¨ç»„ä»¶æœ¬èº«ï¼Œthis.state å¯ä»¥ç›´æ¥è·å–ç»„ä»¶çŠ¶æ€  this.setState æ–¹æ³•æ¥æ”¹å˜ ç»„ä»¶çš„stateçŠ¶æ€ã€‚
        this.setState({
            toggle: !this.state.toggle
        })
    }
```

renderæ–¹æ³•çš„ä½¿ç”¨

```
 //é¡µé¢æ¸²æŸ“
    render() {
    //å®šä¹‰å˜é‡ ä½¿ç”¨es6ç»“æ„æ–¹æ³•è·å–å˜é‡ï¼Œæ­¤å¤„æœ‰ES6çš„è¯­æ³•è®²è§£çš„è¯¦æƒ…æ–‡æ¡£å°±ä¼šä¸€ç›®äº†ç„¶ã€‚
        const { toggle } = this.state;
        returnå‡ºå»åœ¨react 16ç‰ˆæœ¬ä¹‹å‰åªå…è®¸ è¾“å‡ºä¸€ä¸ªå…ƒç´ å°±æ˜¯é¡¶çº§å…ƒç´ å¤šäº†å°±ä¼šæŠ¥é”™ï¼Œ16ç‰ˆæœ¬ä¹‹åå°±å¯ä»¥return æ•°ç»„å¦‚ï¼šreturn [
         	<div>222</div>,
        	<div>222</div>,
    	]ï¼›
    	å¯ä»¥return å­—ç¬¦ä¸² å¦‚ï¼š return 'æˆ‘æ˜¯ä¸€ä¸ªé™æ€å­—ç¬¦ä¸²ï¼Œæˆ‘è´Ÿè´£æ¸²æŸ“åå­—'ç­‰ã€‚
        return (<div>æˆ‘æ˜¯è¾“å‡ºçš„å…ƒç´ </div>)
        }
```

6ã€ä¸‹é¢æˆ‘ä»¬ä»‹ç»å¸ç§ç»„ä»¶ä»£ç ï¼›currencyç»„ä»¶ï¼›

å…ˆçœ‹index.js ä»£ç 

```
/**å¼•å…¥æ ¸å¿ƒä»£ç  cssæ ·å¼**/
import React, { Component } from 'react';
import { Link } from 'mirrorx';
import { Row, Col, Panel, Table, Select, Button, Modal, Form, FormControl, FormGroup, InputGroup, Icon, Input, Popconfirm, Animate, ControlLabel } from 'tinper-bee';
import './index.css';
```

å®šä¹‰ç»„ä»¶

```
class AddList extends Component 
```

å®šä¹‰ç»„ä»¶çŠ¶æ€ ä»¥åŠè¡¨æ ¼æ‰€ç”¨æ•°æ®ï¼›å› ä¸ºæ˜¯å‰ç«¯ä»£ç ï¼Œç›®å‰æ•°æ®æ¨¡æ‹Ÿä¸ºæœ¬åœ°æ•°æ®ï¼Œåç»­ä¼šå•ç‹¬è¯´å¯¹æ¥åå°è¯·æ±‚æ•°æ®ï¼›

```
constructor(props) {
        super(props);
        // å®šä¹‰è¡¨æ ¼è¡¨å¤´
        this.columns = [
            { title: "å¸ç§", dataIndex: "name", key: "name", width: "30%" },
            { title: "ç¼–ç ", dataIndex: "code", key: "code" },
            { title: "ç²¾åº¦", dataIndex: "currdigit", key: "currdigit" },
            { title: "çŠ¶æ€", dataIndex: "enablestatus", key: "enablestatus" },
            {
                title: "åˆ é™¤", dataIndex: "operation", key: "operation",
                render: (text, record, index) => {
                    return (
                        <Popconfirm content="ç¡®è®¤åˆ é™¤?" id="aa" onClose={this.onDelete(index)}>
                            <Icon type="uf-del" />
                        </Popconfirm>
                    );
                }
            }
        ];
        this.state = {
            dataSource: [
                { key: "0", name: "æ²‰é±¼", code: "1", currdigit: "18", pk_currtype: false, enablestatus: "96, 77, 89", },
                { key: "1", name: "è½é›", code: "2", currdigit: "18", pk_currtype: false, enablestatus: "96, 77, 89", },
                { key: "2", name: "é—­æœˆ", code: "3", currdigit: "18", pk_currtype: false, enablestatus: "96, 77, 89", },
                { key: "3", name: "ç¾èŠ±", code: "4", currdigit: "18", pk_currtype: false, enablestatus: "96, 77, 89", },
            ],
            count: 1,
            showModal: false,
            refCbData: [],
            addOrChange: false,
            changeIndex: '',
            name: "",
            code: "",
            currdigit: "",
            enablestatus: "1",
            pk_currtype: false,
            dataLink: [],

        };
        self = this;
    }
```

åˆå§‹åŒ–æ•°æ®æ­¤å¤„æœ‰ä¸€ä¸ªç”Ÿç–çš„å•è¯å°±æ˜¯ componentDidMountæ–¹æ³•ï¼Œè¿™å°±æ¶‰åŠåˆ°[react ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ](http://www.runoob.com/react/react-component-life-cycle.html) ï¼Œç”Ÿå‘½å‘¨æœŸåŒ…æ‹¬ï¼š

å½“ç»„ä»¶åœ¨**å®¢æˆ·ç«¯**è¢«å®ä¾‹åŒ–ï¼Œç¬¬ä¸€æ¬¡è¢«åˆ›å»ºæ—¶ï¼Œä»¥ä¸‹æ–¹æ³•ä¾æ¬¡è¢«è°ƒç”¨ï¼š

1ã€getDefaultProps
2ã€getInitialState
3ã€componentWillMount
4ã€render
5ã€componentDidMount

å½“ç»„ä»¶åœ¨**æœåŠ¡ç«¯**è¢«å®ä¾‹åŒ–ï¼Œé¦–æ¬¡è¢«åˆ›å»ºæ—¶ï¼Œä»¥ä¸‹æ–¹æ³•ä¾æ¬¡è¢«è°ƒç”¨ï¼š

1ã€getDefaultProps
2ã€getInitialState
3ã€componentWillMount
4ã€render

```
componentDidMount() {
        this.initData();
    }
    // åˆå§‹åŒ–æ•°æ®
    initData = () => {
        // axios({
        //     method: 'get',
        //     // http://10.11.65.50:9999/appdemo/train_currtype/list
        //     // https://api.douban.com/v2/book/search?q=javascript&count=1
        //     url: 'http://api.douban.com/v2/book/search?q=javascript&count=1    ',
        // }).then(function (res) {
        //     console.log(res);
        // });

    }
```

ä»£ç ä¸­é—´éƒ¨åˆ†ä¸ºç»„ä»¶çš„æ–¹æ³•éƒ¨åˆ†å³æ˜¯é€»è¾‘å¤„ç†éƒ¨åˆ†

```
 //ç‚¹å‡»è¡Œæ‰§è¡Œæ–¹æ³•
 onCellChange = (index, key) => {
        return value => {
            const dataSource = [...this.state.dataSource];
            dataSource[index][key] = value;
            this.setState({ dataSource });
        };
    };
    // åˆ é™¤æ•°æ®æ‰§è¡Œæ–¹æ³•
    onDelete = (index) => {
        return () => {
            const dataSource = [...this.state.dataSource];
            dataSource.splice(index, 1);
            this.setState({ dataSource });
        };
    };
    ...
```

æœ€åå³æ˜¯æ¸²æŸ“é¡µé¢ å¹¶è¾“å‡ºç»„ä»¶

```
 // æ¸²æŸ“é¡µé¢
    render() {
        const { dataSource, addOrChange, dataLink } = this.state;
        const columns = this.columns;
        var data = this.state, tac = { 'text-align': 'right' }, mt = { 'margin-top': '10px' }, lmt = { 'margin-top': '18px' }
        return (
            <div>
                <Link to="/">é¦–é¡µ</Link>
                 <Link to="/">é¦–é¡µ</Link>
                <Modal
                    show={this.state.showModal}
                    onHide={this.close} >
                    <Modal.Header>
                        <Modal.Title>{addOrChange ? 'ä¿®æ”¹' : 'æ·»åŠ '}å¸ç§ä¿¡æ¯ï¼š</Modal.Title>
                    </Modal.Header>
                    <Row>
                        <Modal.Body ref={(c) => { this.FormData = c }} style={tac} >
                            <Col md={2} xs={2} sm={2} style={lmt}>å¸ç§ï¼š</Col>
                            <Col md={4} xs={4} sm={4} ><FormControl type="text" onChange={this.valueChange.bind(this, 'name')} value={data.name} style={mt} />
                            </Col>
                            <Col md={2} xs={2} sm={2} style={lmt}>ç¼–ç ï¼š</Col>
                            <Col md={4} xs={4} sm={4} ><FormControl type="text" onChange={this.valueChange.bind(this, 'code')} value={data.code} style={mt} /> </Col>
                            <Col md={2} xs={2} sm={2} style={lmt}>ç²¾åº¦ï¼š</Col>
                            <Col md={4} xs={4} sm={4} ><FormControl type="text" onChange={this.valueChange.bind(this, 'currdigit')} value={data.currdigit} style={mt} /></Col>

                        </Modal.Body>
                    </Row>
                    <Modal.Footer>
                        <Button onClick={this.close} shape="border" style={{ marginRight: 50 }}>å…³é—­</Button>
                        <Button onClick={this.addMoreList} colors="primary">{addOrChange ? 'ä¿®æ”¹' : 'ç¡®è®¤'}</Button>
                    </Modal.Footer>
                </Modal>
                <Button
                    className="editable-add-btn"
                    colors="primary"
                    className="a"
                    onClick={this.handleAdd}
                >
                    æ·»åŠ 
                </Button>
                <Table
                    bordered
                    data={dataSource}
                    columns={columns}
                    getBodyWrapper={this.getBodyWrapper}
                    onRowClick={this.rowClick}
                />
            </div>)
         }
 //è¾“å‡ºç»„ä»¶æ–¹ä¾¿è°ƒç”¨
 export default AddList;
```

#### æœ€åæ€»ç»“

ä»¥ä¸Šä»£ç å°±æ˜¯ä¸€ä¸ªç®€å•çš„å¸ç§è¡¨æ ¼å®ç°æ–¹å¼ï¼Œç”±äºæ¶‰åŠé…ç½®éƒ¨åˆ†è¯·æ ¹æ®é¡¹ç›®ä¸åŒè‡ªè¡Œé…ç½®ã€‚